(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[967],{1841:(e,t,r)=>{"use strict";r.d(t,{J:()=>i});var s=r(5339);class i extends s.aHM{constructor(e){super(e)}load(e,t,r,i){let n=this,a=new s.Y9S(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(e){let r=n.parse(JSON.parse(e));t&&t(r)},r,i)}parse(e){return new n(e)}}class n{constructor(e){this.isFont=!0,this.type="Font",this.data=e}generateShapes(e,t=100){let r=[],i=function(e,t,r){let i=Array.from(e),n=t/r.resolution,a=(r.boundingBox.yMax-r.boundingBox.yMin+r.underlineThickness)*n,o=[],u=0,l=0;for(let e=0;e<i.length;e++){let t=i[e];if("\n"===t)u=0,l-=a;else{let e=function(e,t,r,i,n){let a,o,u,l,c,h,d,p,m=n.glyphs[e]||n.glyphs["?"];if(!m)return void console.error('THREE.Font: character "'+e+'" does not exists in font family '+n.familyName+".");let f=new s.Ld9;if(m.o){let e=m._cachedOutline||(m._cachedOutline=m.o.split(" "));for(let s=0,n=e.length;s<n;)switch(e[s++]){case"m":a=e[s++]*t+r,o=e[s++]*t+i,f.moveTo(a,o);break;case"l":a=e[s++]*t+r,o=e[s++]*t+i,f.lineTo(a,o);break;case"q":u=e[s++]*t+r,l=e[s++]*t+i,c=e[s++]*t+r,h=e[s++]*t+i,f.quadraticCurveTo(c,h,u,l);break;case"b":u=e[s++]*t+r,l=e[s++]*t+i,c=e[s++]*t+r,h=e[s++]*t+i,d=e[s++]*t+r,p=e[s++]*t+i,f.bezierCurveTo(c,h,d,p,u,l)}}return{offsetX:m.ha*t,path:f}}(t,n,u,l,r);u+=e.offsetX,o.push(e.path)}}return o}(e,t,this.data);for(let e=0,t=i.length;e<t;e++)r.push(...i[e].toShapes());return r}}},3946:e=>{e.exports={style:{fontFamily:"'Geist Mono', 'Geist Mono Fallback'",fontStyle:"normal"},className:"__className_9a8899",variable:"__variable_9a8899"}},4177:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var s=r(5339);let i=new WeakMap;class n extends s.aHM{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,r,i){let n=new s.Y9S(this.manager);n.setPath(this.path),n.setResponseType("arraybuffer"),n.setRequestHeader(this.requestHeader),n.setWithCredentials(this.withCredentials),n.load(e,e=>{this.parse(e,t,i)},r,i)}parse(e,t,r=()=>{}){this.decodeDracoFile(e,t,null,null,s.er$,r).catch(r)}decodeDracoFile(e,t,r,i,n=s.Zr2,a=()=>{}){let o={attributeIDs:r||this.defaultAttributeIDs,attributeTypes:i||this.defaultAttributeTypes,useUniqueIDs:!!r,vertexColorSpace:n};return this.decodeGeometry(e,o).then(t).catch(a)}decodeGeometry(e,t){let r,s=JSON.stringify(t);if(i.has(e)){let t=i.get(e);if(t.key===s)return t.promise;if(0===e.byteLength)throw Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let n=this.workerNextTaskID++,a=e.byteLength,o=this._getWorker(n,a).then(s=>(r=s,new Promise((s,i)=>{r._callbacks[n]={resolve:s,reject:i},r.postMessage({type:"decode",id:n,taskConfig:t,buffer:e},[e])}))).then(e=>this._createGeometry(e.geometry));return o.catch(()=>!0).then(()=>{r&&n&&this._releaseTask(r,n)}),i.set(e,{key:s,promise:o}),o}_createGeometry(e){let t=new s.LoY;e.index&&t.setIndex(new s.THS(e.index.array,1));for(let r=0;r<e.attributes.length;r++){let i=e.attributes[r],n=i.name,a=i.array,o=i.itemSize,u=new s.THS(a,o);"color"===n&&(this._assignVertexColorSpace(u,i.vertexColorSpace),u.normalized=a instanceof Float32Array==!1),t.setAttribute(n,u)}return t}_assignVertexColorSpace(e,t){if(t!==s.er$)return;let r=new s.Q1f;for(let t=0,i=e.count;t<i;t++)r.fromBufferAttribute(e,t),s.ppV.colorSpaceToWorking(r,s.er$),e.setXYZ(t,r.r,r.g,r.b)}_loadLibrary(e,t){let r=new s.Y9S(this.manager);return r.setPath(this.decoderPath),r.setResponseType(t),r.setWithCredentials(this.withCredentials),new Promise((t,s)=>{r.load(e,t,void 0,s)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;let e="object"!=typeof WebAssembly||"js"===this.decoderConfig.type,t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(t=>{let r=t[0];e||(this.decoderConfig.wasmBinary=t[1]);let s=a.toString(),i=["/* draco decoder */",r,"\n/* worker */",s.substring(s.indexOf("{")+1,s.lastIndexOf("}"))].join("\n");this.workerSourceURL=URL.createObjectURL(new Blob([i]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){let e=new Worker(this.workerSourceURL);e._callbacks={},e._taskCosts={},e._taskLoad=0,e.postMessage({type:"init",decoderConfig:this.decoderConfig}),e.onmessage=function(t){let r=t.data;switch(r.type){case"decode":e._callbacks[r.id].resolve(r);break;case"error":e._callbacks[r.id].reject(r);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+r.type+'"')}},this.workerPool.push(e)}else this.workerPool.sort(function(e,t){return e._taskLoad>t._taskLoad?-1:1});let r=this.workerPool[this.workerPool.length-1];return r._taskCosts[e]=t,r._taskLoad+=t,r})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,""!==this.workerSourceURL&&URL.revokeObjectURL(this.workerSourceURL),this}}function a(){let e,t;onmessage=function(r){let s=r.data;switch(s.type){case"init":e=s.decoderConfig,t=new Promise(function(t){e.onModuleLoaded=function(e){t({draco:e})},DracoDecoderModule(e)});break;case"decode":let i=s.buffer,n=s.taskConfig;t.then(e=>{let t=e.draco,r=new t.Decoder;try{let e=function(e,t,r,s){let i,n,a=s.attributeIDs,o=s.attributeTypes,u=t.GetEncodedGeometryType(r);if(u===e.TRIANGULAR_MESH)i=new e.Mesh,n=t.DecodeArrayToMesh(r,r.byteLength,i);else if(u===e.POINT_CLOUD)i=new e.PointCloud,n=t.DecodeArrayToPointCloud(r,r.byteLength,i);else throw Error("THREE.DRACOLoader: Unexpected geometry type.");if(!n.ok()||0===i.ptr)throw Error("THREE.DRACOLoader: Decoding failed: "+n.error_msg());let l={index:null,attributes:[]};for(let r in a){let n,u,c=self[o[r]];if(s.useUniqueIDs)u=a[r],n=t.GetAttributeByUniqueId(i,u);else{if(-1===(u=t.GetAttributeId(i,e[a[r]])))continue;n=t.GetAttribute(i,u)}let h=function(e,t,r,s,i,n){let a=n.num_components(),o=r.num_points()*a,u=o*i.BYTES_PER_ELEMENT,l=function(e,t){switch(t){case Float32Array:return e.DT_FLOAT32;case Int8Array:return e.DT_INT8;case Int16Array:return e.DT_INT16;case Int32Array:return e.DT_INT32;case Uint8Array:return e.DT_UINT8;case Uint16Array:return e.DT_UINT16;case Uint32Array:return e.DT_UINT32}}(e,i),c=e._malloc(u);t.GetAttributeDataArrayForAllPoints(r,n,l,u,c);let h=new i(e.HEAPF32.buffer,c,o).slice();return e._free(c),{name:s,array:h,itemSize:a}}(e,t,i,r,c,n);"color"===r&&(h.vertexColorSpace=s.vertexColorSpace),l.attributes.push(h)}return u===e.TRIANGULAR_MESH&&(l.index=function(e,t,r){let s=3*r.num_faces(),i=4*s,n=e._malloc(i);t.GetTrianglesUInt32Array(r,i,n);let a=new Uint32Array(e.HEAPF32.buffer,n,s).slice();return e._free(n),{array:a,itemSize:1}}(e,t,i)),e.destroy(i),l}(t,r,new Int8Array(i),n),a=e.attributes.map(e=>e.array.buffer);e.index&&a.push(e.index.array.buffer),self.postMessage({type:"decode",id:s.id,geometry:e},a)}catch(e){console.error(e),self.postMessage({type:"error",id:s.id,error:e.message})}finally{t.destroy(r)}})}}}},4996:(e,t,r)=>{"use strict";let s;r.d(t,{K:()=>d});var i=r(2752),n=r(5339),a=r(6635);let o=new i.zYH,u=new n.I9Y,l=new n.I9Y(1,0),c=new n.I9Y(0,1);class h extends i.Xwx{static get type(){return"BloomNode"}constructor(e,t=1,r=0,s=0){super("vec4"),this.inputNode=e,this.strength=(0,a.PiW)(t),this.radius=(0,a.PiW)(r),this.threshold=(0,a.PiW)(s),this.smoothWidth=(0,a.PiW)(.01),this._renderTargetsHorizontal=[],this._renderTargetsVertical=[],this._nMips=5,this._renderTargetBright=new n.O0B(1,1,{depthBuffer:!1,type:n.ix0}),this._renderTargetBright.texture.name="UnrealBloomPass.bright",this._renderTargetBright.texture.generateMipmaps=!1;for(let e=0;e<this._nMips;e++){let t=new n.O0B(1,1,{depthBuffer:!1,type:n.ix0});t.texture.name="UnrealBloomPass.h"+e,t.texture.generateMipmaps=!1,this._renderTargetsHorizontal.push(t);let r=new n.O0B(1,1,{depthBuffer:!1,type:n.ix0});r.texture.name="UnrealBloomPass.v"+e,r.texture.generateMipmaps=!1,this._renderTargetsVertical.push(r)}this._compositeMaterial=null,this._highPassFilterMaterial=null,this._separableBlurMaterials=[],this._textureNodeBright=(0,a.wHr)(this._renderTargetBright.texture),this._textureNodeBlur0=(0,a.wHr)(this._renderTargetsVertical[0].texture),this._textureNodeBlur1=(0,a.wHr)(this._renderTargetsVertical[1].texture),this._textureNodeBlur2=(0,a.wHr)(this._renderTargetsVertical[2].texture),this._textureNodeBlur3=(0,a.wHr)(this._renderTargetsVertical[3].texture),this._textureNodeBlur4=(0,a.wHr)(this._renderTargetsVertical[4].texture),this._textureOutput=(0,a.h7x)(this,this._renderTargetsHorizontal[0].texture),this.updateBeforeType=i.KSy.FRAME}getTextureNode(){return this._textureOutput}setSize(e,t){let r=Math.round(e/2),s=Math.round(t/2);this._renderTargetBright.setSize(r,s);for(let e=0;e<this._nMips;e++)this._renderTargetsHorizontal[e].setSize(r,s),this._renderTargetsVertical[e].setSize(r,s),this._separableBlurMaterials[e].invSize.value.set(1/r,1/s),r=Math.round(r/2),s=Math.round(s/2)}updateBefore(e){let{renderer:t}=e;s=i.TwR.resetRendererState(t,s);let r=t.getDrawingBufferSize(u);this.setSize(r.width,r.height),t.setRenderTarget(this._renderTargetBright),o.material=this._highPassFilterMaterial,o.render(t);let n=this._renderTargetBright;for(let e=0;e<this._nMips;e++)o.material=this._separableBlurMaterials[e],this._separableBlurMaterials[e].colorTexture.value=n.texture,this._separableBlurMaterials[e].direction.value=l,t.setRenderTarget(this._renderTargetsHorizontal[e]),o.render(t),this._separableBlurMaterials[e].colorTexture.value=this._renderTargetsHorizontal[e].texture,this._separableBlurMaterials[e].direction.value=c,t.setRenderTarget(this._renderTargetsVertical[e]),o.render(t),n=this._renderTargetsVertical[e];t.setRenderTarget(this._renderTargetsHorizontal[0]),o.material=this._compositeMaterial,o.render(t),i.TwR.restoreRendererState(t,s)}setup(e){let t=(0,a.Fn)(()=>{let e=this.inputNode,t=(0,a.NkA)(e.rgb),r=(0,a.TF7)(this.threshold,this.threshold.add(this.smoothWidth),t);return(0,a.jhA)((0,a.lnd)(0),e,r)});this._highPassFilterMaterial=this._highPassFilterMaterial||new i.MBv,this._highPassFilterMaterial.fragmentNode=t().context(e.getSharedContext()),this._highPassFilterMaterial.name="Bloom_highPass",this._highPassFilterMaterial.needsUpdate=!0;let r=[6,10,14,18,22];for(let t=0;t<this._nMips;t++)this._separableBlurMaterials.push(this._getSeparableBlurMaterial(e,r[t]));let s=(0,a.Wep)([1,.8,.6,.4,.2]),o=(0,a.Wep)([new n.Pq0(1,1,1),new n.Pq0(1,1,1),new n.Pq0(1,1,1),new n.Pq0(1,1,1),new n.Pq0(1,1,1)]),u=(0,a.Fn)(([e,t])=>{let r=(0,a.fVC)(1.2).sub(e);return(0,a.jhA)(e,r,t)}).setLayout({name:"lerpBloomFactor",type:"float",inputs:[{name:"factor",type:"float"},{name:"radius",type:"float"}]}),l=(0,a.Fn)(()=>{let e=u(s.element(0),this.radius).mul((0,a.lnd)(o.element(0),1)).mul(this._textureNodeBlur0),t=u(s.element(1),this.radius).mul((0,a.lnd)(o.element(1),1)).mul(this._textureNodeBlur1),r=u(s.element(2),this.radius).mul((0,a.lnd)(o.element(2),1)).mul(this._textureNodeBlur2),i=u(s.element(3),this.radius).mul((0,a.lnd)(o.element(3),1)).mul(this._textureNodeBlur3),n=u(s.element(4),this.radius).mul((0,a.lnd)(o.element(4),1)).mul(this._textureNodeBlur4);return e.add(t).add(r).add(i).add(n).mul(this.strength)});return this._compositeMaterial=this._compositeMaterial||new i.MBv,this._compositeMaterial.fragmentNode=l().context(e.getSharedContext()),this._compositeMaterial.name="Bloom_comp",this._compositeMaterial.needsUpdate=!0,this._textureOutput}dispose(){for(let e=0;e<this._renderTargetsHorizontal.length;e++)this._renderTargetsHorizontal[e].dispose();for(let e=0;e<this._renderTargetsVertical.length;e++)this._renderTargetsVertical[e].dispose();this._renderTargetBright.dispose()}_getSeparableBlurMaterial(e,t){let r=[],s=t/3;for(let e=0;e<t;e++)r.push(.39894*Math.exp(-.5*e*e/(s*s))/s);let o=(0,a.wHr)(null),u=(0,a.Wep)(r),l=(0,a.PiW)(new n.I9Y),c=(0,a.PiW)(new n.I9Y(.5,.5)),h=(0,a.uv)(),d=e=>o.sample(e),p=(0,a.Fn)(()=>{let e=d(h).rgb.mul(u.element(0)).toVar();return(0,a.FZF)({start:(0,a.Whr)(1),end:(0,a.Whr)(t),type:"int",condition:"<"},({i:t})=>{let r=(0,a.fVC)(t),s=u.element(t),i=c.mul(l).mul(r),n=d(h.add(i)).rgb,o=d(h.sub(i)).rgb;e.addAssign((0,a.WQq)(n,o).mul(s))}),(0,a.lnd)(e,1)}),m=new i.MBv;return m.fragmentNode=p().context(e.getSharedContext()),m.name="Bloom_separable",m.needsUpdate=!0,m.colorTexture=o,m.direction=c,m.invSize=l,m}}let d=(e,t,r,s)=>(0,a.mp$)(new h((0,a.mp$)(e),t,r,s))},6635:(e,t,r)=>{"use strict";r.d(t,{CGW:()=>m,FZF:()=>n,Fn:()=>i,IXH:()=>f,NkA:()=>c,PiW:()=>_,TF7:()=>g,WQq:()=>a,Wep:()=>T,Whr:()=>l,fVC:()=>u,h7x:()=>E,jhA:()=>h,lnd:()=>y,mp$:()=>p,qN6:()=>d,uv:()=>v,wHr:()=>x,wgp:()=>o});var s=r(2752);s.uuE.BRDF_GGX,s.uuE.BRDF_Lambert,s.uuE.BasicPointShadowFilter,s.uuE.BasicShadowFilter,s.uuE.Break,s.uuE.Const,s.uuE.Continue,s.uuE.DFGApprox,s.uuE.D_GGX,s.uuE.Discard,s.uuE.EPSILON,s.uuE.F_Schlick;let i=s.uuE.Fn;s.uuE.INFINITY,s.uuE.If;let n=s.uuE.Loop;s.uuE.NodeAccess,s.uuE.NodeShaderStage,s.uuE.NodeType,s.uuE.NodeUpdateType,s.uuE.PCFShadowFilter,s.uuE.PCFSoftShadowFilter,s.uuE.PI,s.uuE.PI2,s.uuE.PointShadowFilter,s.uuE.Return,s.uuE.Schlick_to_F0,s.uuE.ScriptableNodeResources,s.uuE.ShaderNode,s.uuE.Stack,s.uuE.Switch,s.uuE.TBNViewMatrix,s.uuE.VSMShadowFilter,s.uuE.V_GGX_SmithCorrelated,s.uuE.Var,s.uuE.VarIntent,s.uuE.abs,s.uuE.acesFilmicToneMapping,s.uuE.acos;let a=s.uuE.add;s.uuE.addMethodChaining,s.uuE.addNodeElement,s.uuE.agxToneMapping,s.uuE.all,s.uuE.alphaT,s.uuE.and,s.uuE.anisotropy,s.uuE.anisotropyB,s.uuE.anisotropyT,s.uuE.any,s.uuE.append,s.uuE.array,s.uuE.arrayBuffer,s.uuE.asin,s.uuE.assign,s.uuE.atan,s.uuE.atan2,s.uuE.atomicAdd,s.uuE.atomicAnd,s.uuE.atomicFunc,s.uuE.atomicLoad,s.uuE.atomicMax,s.uuE.atomicMin,s.uuE.atomicOr,s.uuE.atomicStore,s.uuE.atomicSub,s.uuE.atomicXor,s.uuE.attenuationColor,s.uuE.attenuationDistance,s.uuE.attribute,s.uuE.attributeArray,s.uuE.backgroundBlurriness,s.uuE.backgroundIntensity,s.uuE.backgroundRotation,s.uuE.batch,s.uuE.bentNormalView,s.uuE.billboarding,s.uuE.bitAnd,s.uuE.bitNot,s.uuE.bitOr,s.uuE.bitXor,s.uuE.bitangentGeometry,s.uuE.bitangentLocal,s.uuE.bitangentView,s.uuE.bitangentWorld,s.uuE.bitcast,s.uuE.blendBurn,s.uuE.blendColor,s.uuE.blendDodge,s.uuE.blendOverlay,s.uuE.blendScreen,s.uuE.blur,s.uuE.bool,s.uuE.buffer,s.uuE.bufferAttribute,s.uuE.bumpMap,s.uuE.burn,s.uuE.builtin,s.uuE.bvec2,s.uuE.bvec3,s.uuE.bvec4,s.uuE.bypass,s.uuE.cache,s.uuE.call,s.uuE.cameraFar,s.uuE.cameraIndex,s.uuE.cameraNear,s.uuE.cameraNormalMatrix,s.uuE.cameraPosition,s.uuE.cameraProjectionMatrix,s.uuE.cameraProjectionMatrixInverse,s.uuE.cameraViewMatrix,s.uuE.cameraViewport,s.uuE.cameraWorldMatrix,s.uuE.cbrt,s.uuE.cdl,s.uuE.ceil,s.uuE.checker,s.uuE.cineonToneMapping,s.uuE.clamp,s.uuE.clearcoat,s.uuE.clearcoatNormalView,s.uuE.clearcoatRoughness,s.uuE.code,s.uuE.color,s.uuE.colorSpaceToWorking,s.uuE.colorToDirection,s.uuE.compute,s.uuE.computeKernel,s.uuE.computeSkinning,s.uuE.context,s.uuE.convert,s.uuE.convertColorSpace,s.uuE.convertToTexture,s.uuE.cos,s.uuE.cross,s.uuE.cubeTexture,s.uuE.cubeTextureBase,s.uuE.cubeToUV,s.uuE.dFdx,s.uuE.dFdy,s.uuE.dashSize,s.uuE.debug,s.uuE.decrement,s.uuE.decrementBefore,s.uuE.defaultBuildStages,s.uuE.defaultShaderStages,s.uuE.defined,s.uuE.degrees,s.uuE.deltaTime,s.uuE.densityFog,s.uuE.densityFogFactor,s.uuE.depth,s.uuE.depthPass,s.uuE.determinant,s.uuE.difference,s.uuE.diffuseColor,s.uuE.directPointLight,s.uuE.directionToColor,s.uuE.directionToFaceDirection,s.uuE.dispersion,s.uuE.distance,s.uuE.div,s.uuE.dodge,s.uuE.dot,s.uuE.drawIndex,s.uuE.dynamicBufferAttribute,s.uuE.element;let o=s.uuE.emissive;s.uuE.equal,s.uuE.equals,s.uuE.equirectUV,s.uuE.exp,s.uuE.exp2,s.uuE.expression,s.uuE.faceDirection,s.uuE.faceForward,s.uuE.faceforward;let u=s.uuE.float;s.uuE.floatBitsToInt,s.uuE.floatBitsToUint,s.uuE.floor,s.uuE.fog,s.uuE.fract,s.uuE.frameGroup,s.uuE.frameId,s.uuE.frontFacing,s.uuE.fwidth,s.uuE.gain,s.uuE.gapSize,s.uuE.getConstNodeType,s.uuE.getCurrentStack,s.uuE.getDirection,s.uuE.getDistanceAttenuation,s.uuE.getGeometryRoughness,s.uuE.getNormalFromDepth,s.uuE.getParallaxCorrectNormal,s.uuE.getRoughness,s.uuE.getScreenPosition,s.uuE.getShIrradianceAt,s.uuE.getShadowMaterial,s.uuE.getShadowRenderObjectFunction,s.uuE.getTextureIndex,s.uuE.getViewPosition,s.uuE.globalId,s.uuE.glsl,s.uuE.glslFn,s.uuE.grayscale,s.uuE.greaterThan,s.uuE.greaterThanEqual,s.uuE.hash,s.uuE.highpModelNormalViewMatrix,s.uuE.highpModelViewMatrix,s.uuE.hue,s.uuE.increment,s.uuE.incrementBefore,s.uuE.instance,s.uuE.instanceIndex,s.uuE.instancedArray,s.uuE.instancedBufferAttribute,s.uuE.instancedDynamicBufferAttribute,s.uuE.instancedMesh;let l=s.uuE.int;s.uuE.intBitsToFloat,s.uuE.inverse,s.uuE.inverseSqrt,s.uuE.inversesqrt,s.uuE.invocationLocalIndex,s.uuE.invocationSubgroupIndex,s.uuE.ior,s.uuE.iridescence,s.uuE.iridescenceIOR,s.uuE.iridescenceThickness,s.uuE.ivec2,s.uuE.ivec3,s.uuE.ivec4,s.uuE.js,s.uuE.label,s.uuE.length,s.uuE.lengthSq,s.uuE.lessThan,s.uuE.lessThanEqual,s.uuE.lightPosition,s.uuE.lightProjectionUV,s.uuE.lightShadowMatrix,s.uuE.lightTargetDirection,s.uuE.lightTargetPosition,s.uuE.lightViewPosition,s.uuE.lightingContext,s.uuE.lights,s.uuE.linearDepth,s.uuE.linearToneMapping,s.uuE.localId,s.uuE.log,s.uuE.log2,s.uuE.logarithmicDepthToViewZ;let c=s.uuE.luminance;s.uuE.mat2,s.uuE.mat3,s.uuE.mat4,s.uuE.matcapUV,s.uuE.materialAO,s.uuE.materialAlphaTest,s.uuE.materialAnisotropy,s.uuE.materialAnisotropyVector,s.uuE.materialAttenuationColor,s.uuE.materialAttenuationDistance,s.uuE.materialClearcoat,s.uuE.materialClearcoatNormal,s.uuE.materialClearcoatRoughness,s.uuE.materialColor,s.uuE.materialDispersion,s.uuE.materialEmissive,s.uuE.materialEnvIntensity,s.uuE.materialEnvRotation,s.uuE.materialIOR,s.uuE.materialIridescence,s.uuE.materialIridescenceIOR,s.uuE.materialIridescenceThickness,s.uuE.materialLightMap,s.uuE.materialLineDashOffset,s.uuE.materialLineDashSize,s.uuE.materialLineGapSize,s.uuE.materialLineScale,s.uuE.materialLineWidth,s.uuE.materialMetalness,s.uuE.materialNormal,s.uuE.materialOpacity,s.uuE.materialPointSize,s.uuE.materialReference,s.uuE.materialReflectivity,s.uuE.materialRefractionRatio,s.uuE.materialRotation,s.uuE.materialRoughness,s.uuE.materialSheen,s.uuE.materialSheenRoughness,s.uuE.materialShininess,s.uuE.materialSpecular,s.uuE.materialSpecularColor,s.uuE.materialSpecularIntensity,s.uuE.materialSpecularStrength,s.uuE.materialThickness,s.uuE.materialTransmission,s.uuE.max,s.uuE.maxMipLevel,s.uuE.mediumpModelViewMatrix,s.uuE.metalness,s.uuE.min;let h=s.uuE.mix;s.uuE.mixElement,s.uuE.mod,s.uuE.modInt,s.uuE.modelDirection,s.uuE.modelNormalMatrix,s.uuE.modelPosition,s.uuE.modelRadius,s.uuE.modelScale,s.uuE.modelViewMatrix,s.uuE.modelViewPosition,s.uuE.modelViewProjection,s.uuE.modelWorldMatrix,s.uuE.modelWorldMatrixInverse,s.uuE.morphReference;let d=s.uuE.mrt;s.uuE.mul,s.uuE.mx_aastep,s.uuE.mx_add,s.uuE.mx_atan2,s.uuE.mx_cell_noise_float,s.uuE.mx_contrast,s.uuE.mx_divide,s.uuE.mx_fractal_noise_float,s.uuE.mx_fractal_noise_vec2,s.uuE.mx_fractal_noise_vec3,s.uuE.mx_fractal_noise_vec4,s.uuE.mx_frame,s.uuE.mx_heighttonormal,s.uuE.mx_hsvtorgb,s.uuE.mx_ifequal,s.uuE.mx_ifgreater,s.uuE.mx_ifgreatereq,s.uuE.mx_invert,s.uuE.mx_modulo,s.uuE.mx_multiply,s.uuE.mx_noise_float,s.uuE.mx_noise_vec3,s.uuE.mx_noise_vec4,s.uuE.mx_place2d,s.uuE.mx_power,s.uuE.mx_ramp4,s.uuE.mx_ramplr,s.uuE.mx_ramptb,s.uuE.mx_rgbtohsv,s.uuE.mx_rotate2d,s.uuE.mx_rotate3d,s.uuE.mx_safepower,s.uuE.mx_separate,s.uuE.mx_splitlr,s.uuE.mx_splittb,s.uuE.mx_srgb_texture_to_lin_rec709,s.uuE.mx_subtract,s.uuE.mx_timer,s.uuE.mx_transform_uv,s.uuE.mx_unifiednoise2d,s.uuE.mx_unifiednoise3d,s.uuE.mx_worley_noise_float,s.uuE.mx_worley_noise_vec2,s.uuE.mx_worley_noise_vec3,s.uuE.negate,s.uuE.neutralToneMapping,s.uuE.nodeArray,s.uuE.nodeImmutable;let p=s.uuE.nodeObject;s.uuE.nodeObjectIntent,s.uuE.nodeObjects,s.uuE.nodeProxy,s.uuE.nodeProxyIntent,s.uuE.normalFlat,s.uuE.normalGeometry,s.uuE.normalLocal,s.uuE.normalMap,s.uuE.normalView,s.uuE.normalViewGeometry,s.uuE.normalWorld,s.uuE.normalWorldGeometry,s.uuE.normalize,s.uuE.not,s.uuE.notEqual,s.uuE.numWorkgroups,s.uuE.objectDirection,s.uuE.objectGroup,s.uuE.objectPosition,s.uuE.objectRadius,s.uuE.objectScale,s.uuE.objectViewPosition,s.uuE.objectWorldMatrix,s.uuE.OnObjectUpdate,s.uuE.OnMaterialUpdate,s.uuE.oneMinus,s.uuE.or,s.uuE.orthographicDepthToViewZ,s.uuE.oscSawtooth,s.uuE.oscSine,s.uuE.oscSquare,s.uuE.oscTriangle;let m=s.uuE.output;s.uuE.outputStruct,s.uuE.overlay,s.uuE.overloadingFn,s.uuE.parabola,s.uuE.parallaxDirection,s.uuE.parallaxUV,s.uuE.parameter;let f=s.uuE.pass,E=s.uuE.passTexture;s.uuE.pcurve,s.uuE.perspectiveDepthToViewZ,s.uuE.pmremTexture,s.uuE.pointShadow,s.uuE.pointUV,s.uuE.pointWidth,s.uuE.positionGeometry,s.uuE.positionLocal,s.uuE.positionPrevious,s.uuE.positionView,s.uuE.positionViewDirection,s.uuE.positionWorld,s.uuE.positionWorldDirection,s.uuE.posterize,s.uuE.pow,s.uuE.pow2,s.uuE.pow3,s.uuE.pow4,s.uuE.premultiplyAlpha,s.uuE.property,s.uuE.radians,s.uuE.rand,s.uuE.range,s.uuE.rangeFog,s.uuE.rangeFogFactor,s.uuE.reciprocal,s.uuE.reference,s.uuE.referenceBuffer,s.uuE.reflect,s.uuE.reflectVector,s.uuE.reflectView,s.uuE.reflector,s.uuE.refract,s.uuE.refractVector,s.uuE.refractView,s.uuE.reinhardToneMapping,s.uuE.remap,s.uuE.remapClamp,s.uuE.renderGroup,s.uuE.renderOutput,s.uuE.rendererReference,s.uuE.rotate,s.uuE.rotateUV,s.uuE.roughness,s.uuE.round,s.uuE.rtt,s.uuE.sRGBTransferEOTF,s.uuE.sRGBTransferOETF,s.uuE.sample,s.uuE.sampler,s.uuE.samplerComparison,s.uuE.saturate,s.uuE.saturation,s.uuE.screen,s.uuE.screenCoordinate,s.uuE.screenDPR,s.uuE.screenSize,s.uuE.screenUV,s.uuE.scriptable,s.uuE.scriptableValue,s.uuE.select,s.uuE.setCurrentStack,s.uuE.setName,s.uuE.shaderStages,s.uuE.shadow,s.uuE.shadowPositionWorld,s.uuE.shapeCircle,s.uuE.sharedUniformGroup,s.uuE.sheen,s.uuE.sheenRoughness,s.uuE.shiftLeft,s.uuE.shiftRight,s.uuE.shininess,s.uuE.sign,s.uuE.sin,s.uuE.sinc,s.uuE.skinning;let g=s.uuE.smoothstep;s.uuE.smoothstepElement,s.uuE.specularColor,s.uuE.specularF90,s.uuE.spherizeUV,s.uuE.split,s.uuE.spritesheetUV,s.uuE.sqrt,s.uuE.stack,s.uuE.step,s.uuE.stepElement,s.uuE.storage,s.uuE.storageBarrier,s.uuE.storageObject,s.uuE.storageTexture,s.uuE.string,s.uuE.struct,s.uuE.sub,s.uuE.subgroupAdd,s.uuE.subgroupAll,s.uuE.subgroupAnd,s.uuE.subgroupAny,s.uuE.subgroupBallot,s.uuE.subgroupBroadcast,s.uuE.subgroupBroadcastFirst,s.uuE.subBuild,s.uuE.subgroupElect,s.uuE.subgroupExclusiveAdd,s.uuE.subgroupExclusiveMul,s.uuE.subgroupInclusiveAdd,s.uuE.subgroupInclusiveMul,s.uuE.subgroupIndex,s.uuE.subgroupMax,s.uuE.subgroupMin,s.uuE.subgroupMul,s.uuE.subgroupOr,s.uuE.subgroupShuffle,s.uuE.subgroupShuffleDown,s.uuE.subgroupShuffleUp,s.uuE.subgroupShuffleXor,s.uuE.subgroupSize,s.uuE.subgroupXor,s.uuE.tan,s.uuE.tangentGeometry,s.uuE.tangentLocal,s.uuE.tangentView,s.uuE.tangentWorld;let x=s.uuE.texture;s.uuE.texture3D,s.uuE.textureBarrier,s.uuE.textureBicubic,s.uuE.textureBicubicLevel,s.uuE.textureCubeUV,s.uuE.textureLoad,s.uuE.textureSize,s.uuE.textureStore,s.uuE.thickness,s.uuE.time,s.uuE.toneMapping,s.uuE.toneMappingExposure,s.uuE.toonOutlinePass,s.uuE.transformDirection,s.uuE.transformNormal,s.uuE.transformNormalToView,s.uuE.transformedClearcoatNormalView,s.uuE.transformedNormalView,s.uuE.transformedNormalWorld,s.uuE.transmission,s.uuE.transpose,s.uuE.triNoise3D,s.uuE.triplanarTexture,s.uuE.triplanarTextures,s.uuE.trunc,s.uuE.uint,s.uuE.uintBitsToFloat;let _=s.uuE.uniform,T=s.uuE.uniformArray;s.uuE.uniformCubeTexture,s.uuE.uniformGroup,s.uuE.uniformFlow,s.uuE.uniformTexture,s.uuE.unpremultiplyAlpha,s.uuE.userData;let v=s.uuE.uv;s.uuE.uvec2,s.uuE.uvec3,s.uuE.uvec4,s.uuE.varying,s.uuE.varyingProperty,s.uuE.vec2,s.uuE.vec3;let y=s.uuE.vec4;s.uuE.vectorComponents,s.uuE.velocity,s.uuE.vertexColor,s.uuE.vertexIndex,s.uuE.vertexStage,s.uuE.vibrance,s.uuE.viewZToLogarithmicDepth,s.uuE.viewZToOrthographicDepth,s.uuE.viewZToPerspectiveDepth,s.uuE.viewport,s.uuE.viewportCoordinate,s.uuE.viewportDepthTexture,s.uuE.viewportLinearDepth,s.uuE.viewportMipTexture,s.uuE.viewportResolution,s.uuE.viewportSafeUV,s.uuE.viewportSharedTexture,s.uuE.viewportSize,s.uuE.viewportTexture,s.uuE.viewportUV,s.uuE.wgsl,s.uuE.wgslFn,s.uuE.workgroupArray,s.uuE.workgroupBarrier,s.uuE.workgroupId,s.uuE.workingToColorSpace,s.uuE.xor},7605:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>eT});var s,i,n,a,o,u,l,c=r(2761),h={},d=180/Math.PI,p=Math.PI/180,m=Math.atan2,f=/([A-Z])/g,E=/(left|right|width|margin|padding|x)/i,g=/[\s,\(]\S/,x={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},_=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},T=function(e,t){return t.set(t.t,t.p,1===e?t.e:Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},v=function(e,t){return t.set(t.t,t.p,e?Math.round((t.s+t.c*e)*1e4)/1e4+t.u:t.b,t)},y=function(e,t){var r=t.s+t.c*e;t.set(t.t,t.p,~~(r+(r<0?-.5:.5))+t.u,t)},b=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},w=function(e,t){return t.set(t.t,t.p,1!==e?t.b:t.e,t)},R=function(e,t,r){return e.style[t]=r},S=function(e,t,r){return e.style.setProperty(t,r)},M=function(e,t,r){return e._gsap[t]=r},A=function(e,t,r){return e._gsap.scaleX=e._gsap.scaleY=r},O=function(e,t,r,s,i){var n=e._gsap;n.scaleX=n.scaleY=r,n.renderTransform(i,n)},P=function(e,t,r,s,i){var n=e._gsap;n[t]=r,n.renderTransform(i,n)},I="transform",L=I+"Origin",C=function e(t,r){var s=this,i=this.target,n=i.style,a=i._gsap;if(t in h&&n){if(this.tfm=this.tfm||{},"transform"===t)return x.transform.split(",").forEach(function(t){return e.call(s,t,r)});if(~(t=x[t]||t).indexOf(",")?t.split(",").forEach(function(e){return s.tfm[e]=J(i,e)}):this.tfm[t]=a.x?a[t]:J(i,t),t===L&&(this.tfm.zOrigin=a.zOrigin),this.props.indexOf(I)>=0)return;a.svg&&(this.svgo=i.getAttribute("data-svg-origin"),this.props.push(L,r,"")),t=I}(n||r)&&this.props.push(t,r,n[t])},N=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},k=function(){var e,t,r=this.props,s=this.target,i=s.style,n=s._gsap;for(e=0;e<r.length;e+=3)r[e+1]?2===r[e+1]?s[r[e]](r[e+2]):s[r[e]]=r[e+2]:r[e+2]?i[r[e]]=r[e+2]:i.removeProperty("--"===r[e].substr(0,2)?r[e]:r[e].replace(f,"-$1").toLowerCase());if(this.tfm){for(t in this.tfm)n[t]=this.tfm[t];n.svg&&(n.renderTransform(),s.setAttribute("data-svg-origin",this.svgo||"")),(e=u())&&e.isStart||i[I]||(N(i),n.zOrigin&&i[L]&&(i[L]+=" "+n.zOrigin+"px",n.zOrigin=0,n.renderTransform()),n.uncache=1)}},F=function(e,t){var r={target:e,props:[],revert:k,save:C};return e._gsap||c.os.core.getCache(e),t&&e.style&&e.nodeType&&t.split(",").forEach(function(e){return r.save(e)}),r},B=function(e,t){var r=s.createElementNS?s.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):s.createElement(e);return r&&r.style?r:s.createElement(e)},H=function e(t,r,s){var i=getComputedStyle(t);return i[r]||i.getPropertyValue(r.replace(f,"-$1").toLowerCase())||i.getPropertyValue(r)||!s&&e(t,U(r)||r,1)||""},D="O,Moz,ms,Ms,Webkit".split(","),U=function(e,t,r){var s=(t||a).style,i=5;if(e in s&&!r)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);i--&&!(D[i]+e in s););return i<0?null:(3===i?"ms":i>=0?D[i]:"")+e},V=function(){"undefined"!=typeof window&&window.document&&(i=(s=window.document).documentElement,a=B("div")||{style:{}},B("div"),L=(I=U(I))+"Origin",a.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",l=!!U("perspective"),u=c.os.core.reverting,n=1)},G=function(e){var t,r=e.ownerSVGElement,s=B("svg",r&&r.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),n=e.cloneNode(!0);n.style.display="block",s.appendChild(n),i.appendChild(s);try{t=n.getBBox()}catch(e){}return s.removeChild(n),i.removeChild(s),t},j=function(e,t){for(var r=t.length;r--;)if(e.hasAttribute(t[r]))return e.getAttribute(t[r])},z=function(e){var t,r;try{t=e.getBBox()}catch(s){t=G(e),r=1}return t&&(t.width||t.height)||r||(t=G(e)),!t||t.width||t.x||t.y?t:{x:+j(e,["x","cx","x1"])||0,y:+j(e,["y","cy","y1"])||0,width:0,height:0}},X=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&z(e))},K=function(e,t){if(t){var r,s=e.style;t in h&&t!==L&&(t=I),s.removeProperty?(("ms"===(r=t.substr(0,2))||"webkit"===t.substr(0,6))&&(t="-"+t),s.removeProperty("--"===r?t:t.replace(f,"-$1").toLowerCase())):s.removeAttribute(t)}},q=function(e,t,r,s,i,n){var a=new c.J7(e._pt,t,r,0,1,n?w:b);return e._pt=a,a.b=s,a.e=i,e._props.push(r),a},Y={deg:1,rad:1,turn:1},W={grid:1,flex:1},Z=function e(t,r,i,n){var o,u,l,d,p=parseFloat(i)||0,m=(i+"").trim().substr((p+"").length)||"px",f=a.style,g=E.test(r),x="svg"===t.tagName.toLowerCase(),_=(x?"client":"offset")+(g?"Width":"Height"),T="px"===n,v="%"===n;if(n===m||!p||Y[n]||Y[m])return p;if("px"===m||T||(p=e(t,r,i,"px")),d=t.getCTM&&X(t),(v||"%"===m)&&(h[r]||~r.indexOf("adius")))return o=d?t.getBBox()[g?"width":"height"]:t[_],(0,c.E_)(v?p/o*100:p/100*o);if(f[g?"width":"height"]=100+(T?m:n),u="rem"!==n&&~r.indexOf("adius")||"em"===n&&t.appendChild&&!x?t:t.parentNode,d&&(u=(t.ownerSVGElement||{}).parentNode),u&&u!==s&&u.appendChild||(u=s.body),(l=u._gsap)&&v&&l.width&&g&&l.time===c.au.time&&!l.uncache)return(0,c.E_)(p/l.width*100);if(v&&("height"===r||"width"===r)){var y=t.style[r];t.style[r]=100+n,o=t[_],y?t.style[r]=y:K(t,r)}else(v||"%"===m)&&!W[H(u,"display")]&&(f.position=H(t,"position")),u===t&&(f.position="static"),u.appendChild(a),o=a[_],u.removeChild(a),f.position="absolute";return g&&v&&((l=(0,c.a0)(u)).time=c.au.time,l.width=u[_]),(0,c.E_)(T?o*p/100:o&&p?100/o*p:0)},J=function(e,t,r,s){var i;return n||V(),t in x&&"transform"!==t&&~(t=x[t]).indexOf(",")&&(t=t.split(",")[0]),h[t]&&"transform"!==t?(i=el(e,s),i="transformOrigin"!==t?i[t]:i.svg?i.origin:ec(H(e,L))+" "+i.zOrigin+"px"):(!(i=e.style[t])||"auto"===i||s||~(i+"").indexOf("calc("))&&(i=er[t]&&er[t](e,t,r)||H(e,t)||(0,c.n)(e,t)||+("opacity"===t)),r&&!~(i+"").trim().indexOf(" ")?Z(e,t,i,r)+r:i},$=function(e,t,r,s){if(!r||"none"===r){var i=U(t,e,1),n=i&&H(e,i,1);n&&n!==r?(t=i,r=n):"borderColor"===t&&(r=H(e,"borderTopColor"))}var a,o,u,l,h,d,p,m,f,E,g,x=new c.J7(this._pt,e.style,t,0,1,c.l1),_=0,T=0;if(x.b=r,x.e=s,r+="","var(--"===(s+="").substring(0,6)&&(s=H(e,s.substring(4,s.indexOf(")")))),"auto"===s&&(d=e.style[t],e.style[t]=s,s=H(e,t)||s,d?e.style[t]=d:K(e,t)),a=[r,s],(0,c.Uc)(a),r=a[0],s=a[1],u=r.match(c.vM)||[],(s.match(c.vM)||[]).length){for(;o=c.vM.exec(s);)p=o[0],f=s.substring(_,o.index),h?h=(h+1)%5:("rgba("===f.substr(-5)||"hsla("===f.substr(-5))&&(h=1),p!==(d=u[T++]||"")&&(l=parseFloat(d)||0,g=d.substr((l+"").length),"="===p.charAt(1)&&(p=(0,c.B0)(l,p)+g),m=parseFloat(p),E=p.substr((m+"").length),_=c.vM.lastIndex-E.length,E||(E=E||c.Yz.units[t]||g,_===s.length&&(s+=E,x.e+=E)),g!==E&&(l=Z(e,t,d,E)||0),x._pt={_next:x._pt,p:f||1===T?f:",",s:l,c:m-l,m:h&&h<4||"zIndex"===t?Math.round:0});x.c=_<s.length?s.substring(_,s.length):""}else x.r="display"===t&&"none"===s?w:b;return c.Ks.test(s)&&(x.e=0),this._pt=x,x},Q={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},ee=function(e){var t=e.split(" "),r=t[0],s=t[1]||"50%";return("top"===r||"bottom"===r||"left"===s||"right"===s)&&(e=r,r=s,s=e),t[0]=Q[r]||r,t[1]=Q[s]||s,t.join(" ")},et=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var r,s,i,n=t.t,a=n.style,o=t.u,u=n._gsap;if("all"===o||!0===o)a.cssText="",s=1;else for(i=(o=o.split(",")).length;--i>-1;)h[r=o[i]]&&(s=1,r="transformOrigin"===r?L:I),K(n,r);s&&(K(n,I),u&&(u.svg&&n.removeAttribute("transform"),a.scale=a.rotate=a.translate="none",el(n,1),u.uncache=1,N(a)))}},er={clearProps:function(e,t,r,s,i){if("isFromStart"!==i.data){var n=e._pt=new c.J7(e._pt,t,r,0,0,et);return n.u=s,n.pr=-10,n.tween=i,e._props.push(r),1}}},es=[1,0,0,1,0,0],ei={},en=function(e){return"matrix(1, 0, 0, 1, 0, 0)"===e||"none"===e||!e},ea=function(e){var t=H(e,I);return en(t)?es:t.substr(7).match(c.vX).map(c.E_)},eo=function(e,t){var r,s,n,a,o=e._gsap||(0,c.a0)(e),u=e.style,l=ea(e);return o.svg&&e.getAttribute("transform")?"1,0,0,1,0,0"===(l=[(n=e.transform.baseVal.consolidate().matrix).a,n.b,n.c,n.d,n.e,n.f]).join(",")?es:l:(l!==es||e.offsetParent||e===i||o.svg||(n=u.display,u.display="block",(r=e.parentNode)&&(e.offsetParent||e.getBoundingClientRect().width)||(a=1,s=e.nextElementSibling,i.appendChild(e)),l=ea(e),n?u.display=n:K(e,"display"),a&&(s?r.insertBefore(e,s):r?r.appendChild(e):i.removeChild(e))),t&&l.length>6?[l[0],l[1],l[4],l[5],l[12],l[13]]:l)},eu=function(e,t,r,s,i,n){var a,o,u,l,c=e._gsap,h=i||eo(e,!0),d=c.xOrigin||0,p=c.yOrigin||0,m=c.xOffset||0,f=c.yOffset||0,E=h[0],g=h[1],x=h[2],_=h[3],T=h[4],v=h[5],y=t.split(" "),b=parseFloat(y[0])||0,w=parseFloat(y[1])||0;r?h!==es&&(o=E*_-g*x)&&(u=_/o*b+-x/o*w+(x*v-_*T)/o,l=-g/o*b+E/o*w-(E*v-g*T)/o,b=u,w=l):(b=(a=z(e)).x+(~y[0].indexOf("%")?b/100*a.width:b),w=a.y+(~(y[1]||y[0]).indexOf("%")?w/100*a.height:w)),s||!1!==s&&c.smooth?(c.xOffset=m+((T=b-d)*E+(v=w-p)*x)-T,c.yOffset=f+(T*g+v*_)-v):c.xOffset=c.yOffset=0,c.xOrigin=b,c.yOrigin=w,c.smooth=!!s,c.origin=t,c.originIsAbsolute=!!r,e.style[L]="0px 0px",n&&(q(n,c,"xOrigin",d,b),q(n,c,"yOrigin",p,w),q(n,c,"xOffset",m,c.xOffset),q(n,c,"yOffset",f,c.yOffset)),e.setAttribute("data-svg-origin",b+" "+w)},el=function(e,t){var r=e._gsap||new c.n6(e);if("x"in r&&!t&&!r.uncache)return r;var s,i,n,a,o,u,h,f,E,g,x,_,T,v,y,b,w,R,S,M,A,O,P,C,N,k,F,B,D,U,V,G,j=e.style,z=r.scaleX<0,K=getComputedStyle(e),q=H(e,L)||"0";return s=i=n=u=h=f=E=g=x=0,a=o=1,r.svg=!!(e.getCTM&&X(e)),K.translate&&(("none"!==K.translate||"none"!==K.scale||"none"!==K.rotate)&&(j[I]=("none"!==K.translate?"translate3d("+(K.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+("none"!==K.rotate?"rotate("+K.rotate+") ":"")+("none"!==K.scale?"scale("+K.scale.split(" ").join(",")+") ":"")+("none"!==K[I]?K[I]:"")),j.scale=j.rotate=j.translate="none"),v=eo(e,r.svg),r.svg&&(r.uncache?(N=e.getBBox(),q=r.xOrigin-N.x+"px "+(r.yOrigin-N.y)+"px",C=""):C=!t&&e.getAttribute("data-svg-origin"),eu(e,C||q,!!C||r.originIsAbsolute,!1!==r.smooth,v)),_=r.xOrigin||0,T=r.yOrigin||0,v!==es&&(R=v[0],S=v[1],M=v[2],A=v[3],s=O=v[4],i=P=v[5],6===v.length?(a=Math.sqrt(R*R+S*S),o=Math.sqrt(A*A+M*M),u=R||S?m(S,R)*d:0,(E=M||A?m(M,A)*d+u:0)&&(o*=Math.abs(Math.cos(E*p))),r.svg&&(s-=_-(_*R+T*M),i-=T-(_*S+T*A))):(G=v[6],U=v[7],F=v[8],B=v[9],D=v[10],V=v[11],s=v[12],i=v[13],n=v[14],h=(y=m(G,D))*d,y&&(C=O*(b=Math.cos(-y))+F*(w=Math.sin(-y)),N=P*b+B*w,k=G*b+D*w,F=-(O*w)+F*b,B=-(P*w)+B*b,D=-(G*w)+D*b,V=-(U*w)+V*b,O=C,P=N,G=k),f=(y=m(-M,D))*d,y&&(C=R*(b=Math.cos(-y))-F*(w=Math.sin(-y)),N=S*b-B*w,k=M*b-D*w,V=A*w+V*b,R=C,S=N,M=k),u=(y=m(S,R))*d,y&&(C=R*(b=Math.cos(y))+S*(w=Math.sin(y)),N=O*b+P*w,S=S*b-R*w,P=P*b-O*w,R=C,O=N),h&&Math.abs(h)+Math.abs(u)>359.9&&(h=u=0,f=180-f),a=(0,c.E_)(Math.sqrt(R*R+S*S+M*M)),o=(0,c.E_)(Math.sqrt(P*P+G*G)),E=Math.abs(y=m(O,P))>2e-4?y*d:0,x=V?1/(V<0?-V:V):0),r.svg&&(C=e.getAttribute("transform"),r.forceCSS=e.setAttribute("transform","")||!en(H(e,I)),C&&e.setAttribute("transform",C))),Math.abs(E)>90&&270>Math.abs(E)&&(z?(a*=-1,E+=u<=0?180:-180,u+=u<=0?180:-180):(o*=-1,E+=E<=0?180:-180)),t=t||r.uncache,r.x=s-((r.xPercent=s&&(!t&&r.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-s)?-50:0)))?e.offsetWidth*r.xPercent/100:0)+"px",r.y=i-((r.yPercent=i&&(!t&&r.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-i)?-50:0)))?e.offsetHeight*r.yPercent/100:0)+"px",r.z=n+"px",r.scaleX=(0,c.E_)(a),r.scaleY=(0,c.E_)(o),r.rotation=(0,c.E_)(u)+"deg",r.rotationX=(0,c.E_)(h)+"deg",r.rotationY=(0,c.E_)(f)+"deg",r.skewX=E+"deg",r.skewY=g+"deg",r.transformPerspective=x+"px",(r.zOrigin=parseFloat(q.split(" ")[2])||!t&&r.zOrigin||0)&&(j[L]=ec(q)),r.xOffset=r.yOffset=0,r.force3D=c.Yz.force3D,r.renderTransform=r.svg?ef:l?em:ed,r.uncache=0,r},ec=function(e){return(e=e.split(" "))[0]+" "+e[1]},eh=function(e,t,r){var s=(0,c.l_)(t);return(0,c.E_)(parseFloat(t)+parseFloat(Z(e,"x",r+"px",s)))+s},ed=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,em(e,t)},ep="0deg",em=function(e,t){var r=t||this,s=r.xPercent,i=r.yPercent,n=r.x,a=r.y,o=r.z,u=r.rotation,l=r.rotationY,c=r.rotationX,h=r.skewX,d=r.skewY,m=r.scaleX,f=r.scaleY,E=r.transformPerspective,g=r.force3D,x=r.target,_=r.zOrigin,T="",v="auto"===g&&e&&1!==e||!0===g;if(_&&(c!==ep||l!==ep)){var y,b=parseFloat(l)*p,w=Math.sin(b),R=Math.cos(b);n=eh(x,n,-(w*(y=Math.cos(b=parseFloat(c)*p))*_)),a=eh(x,a,-(-Math.sin(b)*_)),o=eh(x,o,-(R*y*_)+_)}"0px"!==E&&(T+="perspective("+E+") "),(s||i)&&(T+="translate("+s+"%, "+i+"%) "),(v||"0px"!==n||"0px"!==a||"0px"!==o)&&(T+="0px"!==o||v?"translate3d("+n+", "+a+", "+o+") ":"translate("+n+", "+a+") "),u!==ep&&(T+="rotate("+u+") "),l!==ep&&(T+="rotateY("+l+") "),c!==ep&&(T+="rotateX("+c+") "),(h!==ep||d!==ep)&&(T+="skew("+h+", "+d+") "),(1!==m||1!==f)&&(T+="scale("+m+", "+f+") "),x.style[I]=T||"translate(0, 0)"},ef=function(e,t){var r,s,i,n,a,o=t||this,u=o.xPercent,l=o.yPercent,h=o.x,d=o.y,m=o.rotation,f=o.skewX,E=o.skewY,g=o.scaleX,x=o.scaleY,_=o.target,T=o.xOrigin,v=o.yOrigin,y=o.xOffset,b=o.yOffset,w=o.forceCSS,R=parseFloat(h),S=parseFloat(d);m=parseFloat(m),f=parseFloat(f),(E=parseFloat(E))&&(f+=E=parseFloat(E),m+=E),m||f?(m*=p,f*=p,r=Math.cos(m)*g,s=Math.sin(m)*g,i=-(Math.sin(m-f)*x),n=Math.cos(m-f)*x,f&&(E*=p,i*=a=Math.sqrt(1+(a=Math.tan(f-E))*a),n*=a,E&&(r*=a=Math.sqrt(1+(a=Math.tan(E))*a),s*=a)),r=(0,c.E_)(r),s=(0,c.E_)(s),i=(0,c.E_)(i),n=(0,c.E_)(n)):(r=g,n=x,s=i=0),(R&&!~(h+"").indexOf("px")||S&&!~(d+"").indexOf("px"))&&(R=Z(_,"x",h,"px"),S=Z(_,"y",d,"px")),(T||v||y||b)&&(R=(0,c.E_)(R+T-(T*r+v*i)+y),S=(0,c.E_)(S+v-(T*s+v*n)+b)),(u||l)&&(a=_.getBBox(),R=(0,c.E_)(R+u/100*a.width),S=(0,c.E_)(S+l/100*a.height)),a="matrix("+r+","+s+","+i+","+n+","+R+","+S+")",_.setAttribute("transform",a),w&&(_.style[I]=a)},eE=function(e,t,r,s,i){var n,a,o=(0,c.vQ)(i),u=parseFloat(i)*(o&&~i.indexOf("rad")?d:1)-s,l=s+u+"deg";return o&&("short"===(n=i.split("_")[1])&&(u%=360)!=u%180&&(u+=u<0?360:-360),"cw"===n&&u<0?u=(u+36e9)%360-360*~~(u/360):"ccw"===n&&u>0&&(u=(u-36e9)%360-360*~~(u/360))),e._pt=a=new c.J7(e._pt,t,r,s,u,T),a.e=l,a.u="deg",e._props.push(r),a},eg=function(e,t){for(var r in t)e[r]=t[r];return e},ex=function(e,t,r){var s,i,n,a,o,u,l,d=eg({},r._gsap),p=r.style;for(i in d.svg?(n=r.getAttribute("transform"),r.setAttribute("transform",""),p[I]=t,s=el(r,1),K(r,I),r.setAttribute("transform",n)):(n=getComputedStyle(r)[I],p[I]=t,s=el(r,1),p[I]=n),h)(n=d[i])!==(a=s[i])&&0>"perspective,force3D,transformOrigin,svgOrigin".indexOf(i)&&(o=(0,c.l_)(n)!==(l=(0,c.l_)(a))?Z(r,i,n,l):parseFloat(n),u=parseFloat(a),e._pt=new c.J7(e._pt,s,i,o,u-o,_),e._pt.u=l||0,e._props.push(i));eg(s,d)};(0,c.fA)("padding,margin,Width,Radius",function(e,t){var r="Right",s="Bottom",i="Left",n=(t<3?["Top",r,s,i]:["Top"+i,"Top"+r,s+r,s+i]).map(function(r){return t<2?e+r:"border"+r+e});er[t>1?"border"+e:e]=function(e,t,r,s,i){var a,o;if(arguments.length<4)return 5===(o=(a=n.map(function(t){return J(e,t,r)})).join(" ")).split(a[0]).length?a[0]:o;a=(s+"").split(" "),o={},n.forEach(function(e,t){return o[e]=a[t]=a[t]||a[(t-1)/2|0]}),e.init(t,o,i)}});var e_={name:"css",register:V,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,r,s,i){var a,o,u,l,d,p,m,f,E,T,b,w,R,S,M,A,O=this._props,P=e.style,C=r.vars.startAt;for(m in n||V(),this.styles=this.styles||F(e),A=this.styles.props,this.tween=r,t)if("autoRound"!==m&&(o=t[m],!(c.wU[m]&&(0,c.Zm)(m,t,r,s,e,i)))){if(d=typeof o,p=er[m],"function"===d&&(d=typeof(o=o.call(r,s,e,i))),"string"===d&&~o.indexOf("random(")&&(o=(0,c.Vy)(o)),p)p(this,e,m,o,r)&&(M=1);else if("--"===m.substr(0,2))a=(getComputedStyle(e).getPropertyValue(m)+"").trim(),o+="",c.qA.lastIndex=0,c.qA.test(a)||(f=(0,c.l_)(a),E=(0,c.l_)(o)),E?f!==E&&(a=Z(e,m,a,E)+E):f&&(o+=f),this.add(P,"setProperty",a,o,s,i,0,0,m),O.push(m),A.push(m,0,P[m]);else if("undefined"!==d){if(C&&m in C?(a="function"==typeof C[m]?C[m].call(r,s,e,i):C[m],(0,c.vQ)(a)&&~a.indexOf("random(")&&(a=(0,c.Vy)(a)),(0,c.l_)(a+"")||"auto"===a||(a+=c.Yz.units[m]||(0,c.l_)(J(e,m))||""),"="===(a+"").charAt(1)&&(a=J(e,m))):a=J(e,m),l=parseFloat(a),(T="string"===d&&"="===o.charAt(1)&&o.substr(0,2))&&(o=o.substr(2)),u=parseFloat(o),m in x&&("autoAlpha"===m&&(1===l&&"hidden"===J(e,"visibility")&&u&&(l=0),A.push("visibility",0,P.visibility),q(this,P,"visibility",l?"inherit":"hidden",u?"inherit":"hidden",!u)),"scale"!==m&&"transform"!==m&&~(m=x[m]).indexOf(",")&&(m=m.split(",")[0])),b=m in h){if(this.styles.save(m),"string"===d&&"var(--"===o.substring(0,6)&&(u=parseFloat(o=H(e,o.substring(4,o.indexOf(")"))))),w||((R=e._gsap).renderTransform&&!t.parseTransform||el(e,t.parseTransform),S=!1!==t.smoothOrigin&&R.smooth,(w=this._pt=new c.J7(this._pt,P,I,0,1,R.renderTransform,R,0,-1)).dep=1),"scale"===m)this._pt=new c.J7(this._pt,R,"scaleY",R.scaleY,(T?(0,c.B0)(R.scaleY,T+u):u)-R.scaleY||0,_),this._pt.u=0,O.push("scaleY",m),m+="X";else if("transformOrigin"===m){A.push(L,0,P[L]),o=ee(o),R.svg?eu(e,o,0,S,0,this):((E=parseFloat(o.split(" ")[2])||0)!==R.zOrigin&&q(this,R,"zOrigin",R.zOrigin,E),q(this,P,m,ec(a),ec(o)));continue}else if("svgOrigin"===m){eu(e,o,1,S,0,this);continue}else if(m in ei){eE(this,R,m,l,T?(0,c.B0)(l,T+o):o);continue}else if("smoothOrigin"===m){q(this,R,"smooth",R.smooth,o);continue}else if("force3D"===m){R[m]=o;continue}else if("transform"===m){ex(this,o,e);continue}}else m in P||(m=U(m)||m);if(b||(u||0===u)&&(l||0===l)&&!g.test(o)&&m in P)f=(a+"").substr((l+"").length),u||(u=0),E=(0,c.l_)(o)||(m in c.Yz.units?c.Yz.units[m]:f),f!==E&&(l=Z(e,m,a,E)),this._pt=new c.J7(this._pt,b?R:P,m,l,(T?(0,c.B0)(l,T+u):u)-l,!b&&("px"===E||"zIndex"===m)&&!1!==t.autoRound?y:_),this._pt.u=E||0,f!==E&&"%"!==E&&(this._pt.b=a,this._pt.r=v);else if(m in P)$.call(this,e,m,a,T?T+o:o);else if(m in e)this.add(e,m,a||e[m],T?T+o:o,s,i);else if("parseTransform"!==m){(0,c.dg)(m,o);continue}b||(m in P?A.push(m,0,P[m]):"function"==typeof e[m]?A.push(m,2,e[m]()):A.push(m,1,a||e[m])),O.push(m)}}M&&(0,c.St)(this)},render:function(e,t){if(t.tween._time||!u())for(var r=t._pt;r;)r.r(e,r.d),r=r._next;else t.styles.revert()},get:J,aliases:x,getSetter:function(e,t,r){var s=x[t];return s&&0>s.indexOf(",")&&(t=s),t in h&&t!==L&&(e._gsap.x||J(e,"x"))?r&&o===r?"scale"===t?A:M:(o=r||{},"scale"===t?O:P):e.style&&!(0,c.OF)(e.style[t])?R:~t.indexOf("-")?S:(0,c.Dx)(e,t)},core:{_removeProperty:K,_getMatrix:eo}};c.os.utils.checkPrefix=U,c.os.core.getStyleSaver=F,function(e,t,r,s){var i=(0,c.fA)(e+","+t+","+r,function(e){h[e]=1});(0,c.fA)(t,function(e){c.Yz.units[e]="deg",ei[e]=1}),x[i[13]]=e+","+t,(0,c.fA)(s,function(e){var t=e.split(":");x[t[1]]=i[t[0]]})}("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY"),(0,c.fA)("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(e){c.Yz.units[e]="px"}),c.os.registerPlugin(e_);var eT=c.os.registerPlugin(e_)||c.os;eT.core.Tween},7696:(e,t,r)=>{"use strict";r.d(t,{_:()=>i});var s=r(5339);class i extends s.QCA{constructor(e,t={}){let r=t.font;if(void 0===r)super();else{let s=r.generateShapes(e,t.size);void 0===t.depth&&(t.depth=50),void 0===t.bevelThickness&&(t.bevelThickness=10),void 0===t.bevelSize&&(t.bevelSize=8),void 0===t.bevelEnabled&&(t.bevelEnabled=!1),super(s,t)}this.type="TextGeometry"}}},9323:(e,t,r)=>{"use strict";r.d(t,{B:()=>n});var s=r(5339);function i(e,t){if(t===s.RJ4)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),e;if(t!==s.rYR&&t!==s.O49)return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",t),e;{let r=e.getIndex();if(null===r){let t=[],s=e.getAttribute("position");if(void 0===s)return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),e;for(let e=0;e<s.count;e++)t.push(e);e.setIndex(t),r=e.getIndex()}let i=r.count-2,n=[];if(t===s.rYR)for(let e=1;e<=i;e++)n.push(r.getX(0)),n.push(r.getX(e)),n.push(r.getX(e+1));else for(let e=0;e<i;e++)e%2==0?(n.push(r.getX(e)),n.push(r.getX(e+1)),n.push(r.getX(e+2))):(n.push(r.getX(e+2)),n.push(r.getX(e+1)),n.push(r.getX(e)));n.length/3!==i&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");let a=e.clone();return a.setIndex(n),a.clearGroups(),a}}class n extends s.aHM{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(e){return new h(e)}),this.register(function(e){return new d(e)}),this.register(function(e){return new v(e)}),this.register(function(e){return new y(e)}),this.register(function(e){return new b(e)}),this.register(function(e){return new m(e)}),this.register(function(e){return new f(e)}),this.register(function(e){return new E(e)}),this.register(function(e){return new g(e)}),this.register(function(e){return new c(e)}),this.register(function(e){return new x(e)}),this.register(function(e){return new p(e)}),this.register(function(e){return new T(e)}),this.register(function(e){return new _(e)}),this.register(function(e){return new u(e)}),this.register(function(e){return new w(e)}),this.register(function(e){return new R(e)})}load(e,t,r,i){let n,a=this;if(""!==this.resourcePath)n=this.resourcePath;else if(""!==this.path){let t=s.r6x.extractUrlBase(e);n=s.r6x.resolveURL(t,this.path)}else n=s.r6x.extractUrlBase(e);this.manager.itemStart(e);let o=function(t){i?i(t):console.error(t),a.manager.itemError(e),a.manager.itemEnd(e)},u=new s.Y9S(this.manager);u.setPath(this.path),u.setResponseType("arraybuffer"),u.setRequestHeader(this.requestHeader),u.setWithCredentials(this.withCredentials),u.load(e,function(r){try{a.parse(r,n,function(r){t(r),a.manager.itemEnd(e)},o)}catch(e){o(e)}},r,o)}setDRACOLoader(e){return this.dracoLoader=e,this}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return -1===this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.push(e),this}unregister(e){return -1!==this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,r,s){let i,n={},a={},u=new TextDecoder;if("string"==typeof e)i=JSON.parse(e);else if(e instanceof ArrayBuffer)if(u.decode(new Uint8Array(e,0,4))===S){try{n[o.KHR_BINARY_GLTF]=new A(e)}catch(e){s&&s(e);return}i=JSON.parse(n[o.KHR_BINARY_GLTF].content)}else i=JSON.parse(u.decode(e));else i=e;if(void 0===i.asset||i.asset.version[0]<2){s&&s(Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}let c=new W(i,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});c.fileLoader.setRequestHeader(this.requestHeader);for(let e=0;e<this.pluginCallbacks.length;e++){let t=this.pluginCallbacks[e](c);t.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),a[t.name]=t,n[t.name]=!0}if(i.extensionsUsed)for(let e=0;e<i.extensionsUsed.length;++e){let t=i.extensionsUsed[e],r=i.extensionsRequired||[];switch(t){case o.KHR_MATERIALS_UNLIT:n[t]=new l;break;case o.KHR_DRACO_MESH_COMPRESSION:n[t]=new O(i,this.dracoLoader);break;case o.KHR_TEXTURE_TRANSFORM:n[t]=new P;break;case o.KHR_MESH_QUANTIZATION:n[t]=new I;break;default:r.indexOf(t)>=0&&void 0===a[t]&&console.warn('THREE.GLTFLoader: Unknown extension "'+t+'".')}}c.setExtensions(n),c.setPlugins(a),c.parse(r,s)}parseAsync(e,t){let r=this;return new Promise(function(s,i){r.parse(e,t,s,i)})}}function a(){let e={};return{get:function(t){return e[t]},add:function(t,r){e[t]=r},remove:function(t){delete e[t]},removeAll:function(){e={}}}}let o={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class u{constructor(e){this.parser=e,this.name=o.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){let e=this.parser,t=this.parser.json.nodes||[];for(let r=0,s=t.length;r<s;r++){let s=t[r];s.extensions&&s.extensions[this.name]&&void 0!==s.extensions[this.name].light&&e._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(e){let t,r=this.parser,i="light:"+e,n=r.cache.get(i);if(n)return n;let a=r.json,o=((a.extensions&&a.extensions[this.name]||{}).lights||[])[e],u=new s.Q1f(0xffffff);void 0!==o.color&&u.setRGB(o.color[0],o.color[1],o.color[2],s.Zr2);let l=void 0!==o.range?o.range:0;switch(o.type){case"directional":(t=new s.ZyN(u)).target.position.set(0,0,-1),t.add(t.target);break;case"point":(t=new s.HiM(u)).distance=l;break;case"spot":(t=new s.nCl(u)).distance=l,o.spot=o.spot||{},o.spot.innerConeAngle=void 0!==o.spot.innerConeAngle?o.spot.innerConeAngle:0,o.spot.outerConeAngle=void 0!==o.spot.outerConeAngle?o.spot.outerConeAngle:Math.PI/4,t.angle=o.spot.outerConeAngle,t.penumbra=1-o.spot.innerConeAngle/o.spot.outerConeAngle,t.target.position.set(0,0,-1),t.add(t.target);break;default:throw Error("THREE.GLTFLoader: Unexpected light type: "+o.type)}return t.position.set(0,0,0),X(t,o),void 0!==o.intensity&&(t.intensity=o.intensity),t.name=r.createUniqueName(o.name||"light_"+e),n=Promise.resolve(t),r.cache.add(i,n),n}getDependency(e,t){if("light"===e)return this._loadLight(t)}createNodeAttachment(e){let t=this,r=this.parser,s=r.json.nodes[e],i=(s.extensions&&s.extensions[this.name]||{}).light;return void 0===i?null:this._loadLight(i).then(function(e){return r._getNodeRef(t.cache,i,e)})}}class l{constructor(){this.name=o.KHR_MATERIALS_UNLIT}getMaterialType(){return s.V9B}extendParams(e,t,r){let i=[];e.color=new s.Q1f(1,1,1),e.opacity=1;let n=t.pbrMetallicRoughness;if(n){if(Array.isArray(n.baseColorFactor)){let t=n.baseColorFactor;e.color.setRGB(t[0],t[1],t[2],s.Zr2),e.opacity=t[3]}void 0!==n.baseColorTexture&&i.push(r.assignTexture(e,"map",n.baseColorTexture,s.er$))}return Promise.all(i)}}class c{constructor(e){this.parser=e,this.name=o.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){let r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();let s=r.extensions[this.name].emissiveStrength;return void 0!==s&&(t.emissiveIntensity=s),Promise.resolve()}}class h{constructor(e){this.parser=e,this.name=o.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){let t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?s.uSd:null}extendMaterialParams(e,t){let r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();let n=[],a=i.extensions[this.name];if(void 0!==a.clearcoatFactor&&(t.clearcoat=a.clearcoatFactor),void 0!==a.clearcoatTexture&&n.push(r.assignTexture(t,"clearcoatMap",a.clearcoatTexture)),void 0!==a.clearcoatRoughnessFactor&&(t.clearcoatRoughness=a.clearcoatRoughnessFactor),void 0!==a.clearcoatRoughnessTexture&&n.push(r.assignTexture(t,"clearcoatRoughnessMap",a.clearcoatRoughnessTexture)),void 0!==a.clearcoatNormalTexture&&(n.push(r.assignTexture(t,"clearcoatNormalMap",a.clearcoatNormalTexture)),void 0!==a.clearcoatNormalTexture.scale)){let e=a.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new s.I9Y(e,e)}return Promise.all(n)}}class d{constructor(e){this.parser=e,this.name=o.KHR_MATERIALS_DISPERSION}getMaterialType(e){let t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?s.uSd:null}extendMaterialParams(e,t){let r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();let s=r.extensions[this.name];return t.dispersion=void 0!==s.dispersion?s.dispersion:0,Promise.resolve()}}class p{constructor(e){this.parser=e,this.name=o.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){let t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?s.uSd:null}extendMaterialParams(e,t){let r=this.parser,s=r.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();let i=[],n=s.extensions[this.name];return void 0!==n.iridescenceFactor&&(t.iridescence=n.iridescenceFactor),void 0!==n.iridescenceTexture&&i.push(r.assignTexture(t,"iridescenceMap",n.iridescenceTexture)),void 0!==n.iridescenceIor&&(t.iridescenceIOR=n.iridescenceIor),void 0===t.iridescenceThicknessRange&&(t.iridescenceThicknessRange=[100,400]),void 0!==n.iridescenceThicknessMinimum&&(t.iridescenceThicknessRange[0]=n.iridescenceThicknessMinimum),void 0!==n.iridescenceThicknessMaximum&&(t.iridescenceThicknessRange[1]=n.iridescenceThicknessMaximum),void 0!==n.iridescenceThicknessTexture&&i.push(r.assignTexture(t,"iridescenceThicknessMap",n.iridescenceThicknessTexture)),Promise.all(i)}}class m{constructor(e){this.parser=e,this.name=o.KHR_MATERIALS_SHEEN}getMaterialType(e){let t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?s.uSd:null}extendMaterialParams(e,t){let r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();let n=[];t.sheenColor=new s.Q1f(0,0,0),t.sheenRoughness=0,t.sheen=1;let a=i.extensions[this.name];if(void 0!==a.sheenColorFactor){let e=a.sheenColorFactor;t.sheenColor.setRGB(e[0],e[1],e[2],s.Zr2)}return void 0!==a.sheenRoughnessFactor&&(t.sheenRoughness=a.sheenRoughnessFactor),void 0!==a.sheenColorTexture&&n.push(r.assignTexture(t,"sheenColorMap",a.sheenColorTexture,s.er$)),void 0!==a.sheenRoughnessTexture&&n.push(r.assignTexture(t,"sheenRoughnessMap",a.sheenRoughnessTexture)),Promise.all(n)}}class f{constructor(e){this.parser=e,this.name=o.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){let t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?s.uSd:null}extendMaterialParams(e,t){let r=this.parser,s=r.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();let i=[],n=s.extensions[this.name];return void 0!==n.transmissionFactor&&(t.transmission=n.transmissionFactor),void 0!==n.transmissionTexture&&i.push(r.assignTexture(t,"transmissionMap",n.transmissionTexture)),Promise.all(i)}}class E{constructor(e){this.parser=e,this.name=o.KHR_MATERIALS_VOLUME}getMaterialType(e){let t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?s.uSd:null}extendMaterialParams(e,t){let r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();let n=[],a=i.extensions[this.name];t.thickness=void 0!==a.thicknessFactor?a.thicknessFactor:0,void 0!==a.thicknessTexture&&n.push(r.assignTexture(t,"thicknessMap",a.thicknessTexture)),t.attenuationDistance=a.attenuationDistance||1/0;let o=a.attenuationColor||[1,1,1];return t.attenuationColor=new s.Q1f().setRGB(o[0],o[1],o[2],s.Zr2),Promise.all(n)}}class g{constructor(e){this.parser=e,this.name=o.KHR_MATERIALS_IOR}getMaterialType(e){let t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?s.uSd:null}extendMaterialParams(e,t){let r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();let s=r.extensions[this.name];return t.ior=void 0!==s.ior?s.ior:1.5,Promise.resolve()}}class x{constructor(e){this.parser=e,this.name=o.KHR_MATERIALS_SPECULAR}getMaterialType(e){let t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?s.uSd:null}extendMaterialParams(e,t){let r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();let n=[],a=i.extensions[this.name];t.specularIntensity=void 0!==a.specularFactor?a.specularFactor:1,void 0!==a.specularTexture&&n.push(r.assignTexture(t,"specularIntensityMap",a.specularTexture));let o=a.specularColorFactor||[1,1,1];return t.specularColor=new s.Q1f().setRGB(o[0],o[1],o[2],s.Zr2),void 0!==a.specularColorTexture&&n.push(r.assignTexture(t,"specularColorMap",a.specularColorTexture,s.er$)),Promise.all(n)}}class _{constructor(e){this.parser=e,this.name=o.EXT_MATERIALS_BUMP}getMaterialType(e){let t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?s.uSd:null}extendMaterialParams(e,t){let r=this.parser,s=r.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();let i=[],n=s.extensions[this.name];return t.bumpScale=void 0!==n.bumpFactor?n.bumpFactor:1,void 0!==n.bumpTexture&&i.push(r.assignTexture(t,"bumpMap",n.bumpTexture)),Promise.all(i)}}class T{constructor(e){this.parser=e,this.name=o.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){let t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?s.uSd:null}extendMaterialParams(e,t){let r=this.parser,s=r.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();let i=[],n=s.extensions[this.name];return void 0!==n.anisotropyStrength&&(t.anisotropy=n.anisotropyStrength),void 0!==n.anisotropyRotation&&(t.anisotropyRotation=n.anisotropyRotation),void 0!==n.anisotropyTexture&&i.push(r.assignTexture(t,"anisotropyMap",n.anisotropyTexture)),Promise.all(i)}}class v{constructor(e){this.parser=e,this.name=o.KHR_TEXTURE_BASISU}loadTexture(e){let t=this.parser,r=t.json,s=r.textures[e];if(!s.extensions||!s.extensions[this.name])return null;let i=s.extensions[this.name],n=t.options.ktx2Loader;if(!n)if(!(r.extensionsRequired&&r.extensionsRequired.indexOf(this.name)>=0))return null;else throw Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return t.loadTextureImage(e,i.source,n)}}class y{constructor(e){this.parser=e,this.name=o.EXT_TEXTURE_WEBP}loadTexture(e){let t=this.name,r=this.parser,s=r.json,i=s.textures[e];if(!i.extensions||!i.extensions[t])return null;let n=i.extensions[t],a=s.images[n.source],o=r.textureLoader;if(a.uri){let e=r.options.manager.getHandler(a.uri);null!==e&&(o=e)}return r.loadTextureImage(e,n.source,o)}}class b{constructor(e){this.parser=e,this.name=o.EXT_TEXTURE_AVIF}loadTexture(e){let t=this.name,r=this.parser,s=r.json,i=s.textures[e];if(!i.extensions||!i.extensions[t])return null;let n=i.extensions[t],a=s.images[n.source],o=r.textureLoader;if(a.uri){let e=r.options.manager.getHandler(a.uri);null!==e&&(o=e)}return r.loadTextureImage(e,n.source,o)}}class w{constructor(e){this.name=o.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){let t=this.parser.json,r=t.bufferViews[e];if(!r.extensions||!r.extensions[this.name])return null;{let e=r.extensions[this.name],s=this.parser.getDependency("buffer",e.buffer),i=this.parser.options.meshoptDecoder;if(!i||!i.supported)if(!(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0))return null;else throw Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return s.then(function(t){let r=e.byteOffset||0,s=e.byteLength||0,n=e.count,a=e.byteStride,o=new Uint8Array(t,r,s);return i.decodeGltfBufferAsync?i.decodeGltfBufferAsync(n,a,o,e.mode,e.filter).then(function(e){return e.buffer}):i.ready.then(function(){let t=new ArrayBuffer(n*a);return i.decodeGltfBuffer(new Uint8Array(t),n,a,o,e.mode,e.filter),t})})}}}class R{constructor(e){this.name=o.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){let t=this.parser.json,r=t.nodes[e];if(!r.extensions||!r.extensions[this.name]||void 0===r.mesh)return null;for(let e of t.meshes[r.mesh].primitives)if(e.mode!==k.TRIANGLES&&e.mode!==k.TRIANGLE_STRIP&&e.mode!==k.TRIANGLE_FAN&&void 0!==e.mode)return null;let i=r.extensions[this.name].attributes,n=[],a={};for(let e in i)n.push(this.parser.getDependency("accessor",i[e]).then(t=>(a[e]=t,a[e])));return n.length<1?null:(n.push(this.parser.createNodeMesh(e)),Promise.all(n).then(e=>{let t=e.pop(),r=t.isGroup?t.children:[t],i=e[0].count,n=[];for(let e of r){let t=new s.kn4,r=new s.Pq0,o=new s.PTz,u=new s.Pq0(1,1,1),l=new s.ZLX(e.geometry,e.material,i);for(let e=0;e<i;e++)a.TRANSLATION&&r.fromBufferAttribute(a.TRANSLATION,e),a.ROTATION&&o.fromBufferAttribute(a.ROTATION,e),a.SCALE&&u.fromBufferAttribute(a.SCALE,e),l.setMatrixAt(e,t.compose(r,o,u));for(let t in a)if("_COLOR_0"===t){let e=a[t];l.instanceColor=new s.uWO(e.array,e.itemSize,e.normalized)}else"TRANSLATION"!==t&&"ROTATION"!==t&&"SCALE"!==t&&e.geometry.setAttribute(t,a[t]);s.B69.prototype.copy.call(l,e),this.parser.assignFinalMaterial(l),n.push(l)}return t.isGroup?(t.clear(),t.add(...n),t):n[0]}))}}let S="glTF",M={JSON:0x4e4f534a,BIN:5130562};class A{constructor(e){this.name=o.KHR_BINARY_GLTF,this.content=null,this.body=null;let t=new DataView(e,0,12),r=new TextDecoder;if(this.header={magic:r.decode(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==S)throw Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw Error("THREE.GLTFLoader: Legacy binary file detected.");let s=this.header.length-12,i=new DataView(e,12),n=0;for(;n<s;){let t=i.getUint32(n,!0);n+=4;let s=i.getUint32(n,!0);if(n+=4,s===M.JSON){let s=new Uint8Array(e,12+n,t);this.content=r.decode(s)}else if(s===M.BIN){let r=12+n;this.body=e.slice(r,r+t)}n+=t}if(null===this.content)throw Error("THREE.GLTFLoader: JSON content not found.")}}class O{constructor(e,t){if(!t)throw Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=o.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){let r=this.json,i=this.dracoLoader,n=e.extensions[this.name].bufferView,a=e.extensions[this.name].attributes,o={},u={},l={};for(let e in a)o[U[e]||e.toLowerCase()]=a[e];for(let t in e.attributes){let s=U[t]||t.toLowerCase();if(void 0!==a[t]){let i=r.accessors[e.attributes[t]],n=F[i.componentType];l[s]=n.name,u[s]=!0===i.normalized}}return t.getDependency("bufferView",n).then(function(e){return new Promise(function(t,r){i.decodeDracoFile(e,function(e){for(let t in e.attributes){let r=e.attributes[t],s=u[t];void 0!==s&&(r.normalized=s)}t(e)},o,l,s.Zr2,r)})})}}class P{constructor(){this.name=o.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return(void 0===t.texCoord||t.texCoord===e.channel)&&void 0===t.offset&&void 0===t.rotation&&void 0===t.scale||(e=e.clone(),void 0!==t.texCoord&&(e.channel=t.texCoord),void 0!==t.offset&&e.offset.fromArray(t.offset),void 0!==t.rotation&&(e.rotation=t.rotation),void 0!==t.scale&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class I{constructor(){this.name=o.KHR_MESH_QUANTIZATION}}class L extends s.lGw{constructor(e,t,r,s){super(e,t,r,s)}copySampleValue_(e){let t=this.resultBuffer,r=this.sampleValues,s=this.valueSize,i=e*s*3+s;for(let e=0;e!==s;e++)t[e]=r[i+e];return t}interpolate_(e,t,r,s){let i=this.resultBuffer,n=this.sampleValues,a=this.valueSize,o=2*a,u=3*a,l=s-t,c=(r-t)/l,h=c*c,d=h*c,p=e*u,m=p-u,f=-2*d+3*h,E=d-h,g=1-f,x=E-h+c;for(let e=0;e!==a;e++){let t=n[m+e+a],r=n[m+e+o]*l,s=n[p+e+a],u=n[p+e]*l;i[e]=g*t+x*r+f*s+E*u}return i}}let C=new s.PTz;class N extends L{interpolate_(e,t,r,s){let i=super.interpolate_(e,t,r,s);return C.fromArray(i).normalize().toArray(i),i}}let k={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},F={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},B={9728:s.hxR,9729:s.k6q,9984:s.pHI,9985:s.kRr,9986:s.Cfg,9987:s.$_I},H={33071:s.ghU,33648:s.kTW,10497:s.GJx},D={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},U={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},V={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},G={CUBICSPLINE:void 0,LINEAR:s.PJ3,STEP:s.ljd},j={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function z(e,t,r){for(let s in r.extensions)void 0===e[s]&&(t.userData.gltfExtensions=t.userData.gltfExtensions||{},t.userData.gltfExtensions[s]=r.extensions[s])}function X(e,t){void 0!==t.extras&&("object"==typeof t.extras?Object.assign(e.userData,t.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+t.extras))}function K(e){let t="",r=Object.keys(e).sort();for(let s=0,i=r.length;s<i;s++)t+=r[s]+":"+e[r[s]]+";";return t}function q(e){switch(e){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}let Y=new s.kn4;class W{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new a,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let r=!1,i=-1,n=!1,o=-1;if("undefined"!=typeof navigator){let e=navigator.userAgent;r=!0===/^((?!chrome|android).)*safari/i.test(e);let t=e.match(/Version\/(\d+)/);i=r&&t?parseInt(t[1],10):-1,o=(n=e.indexOf("Firefox")>-1)?e.match(/Firefox\/([0-9]+)\./)[1]:-1}"undefined"==typeof createImageBitmap||r&&i<17||n&&o<98?this.textureLoader=new s.Tap(this.options.manager):this.textureLoader=new s.Kzg(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new s.Y9S(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),"use-credentials"===this.options.crossOrigin&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){let r=this,s=this.json,i=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(e){return e._markDefs&&e._markDefs()}),Promise.all(this._invokeAll(function(e){return e.beforeRoot&&e.beforeRoot()})).then(function(){return Promise.all([r.getDependencies("scene"),r.getDependencies("animation"),r.getDependencies("camera")])}).then(function(t){let n={scene:t[0][s.scene||0],scenes:t[0],animations:t[1],cameras:t[2],asset:s.asset,parser:r,userData:{}};return z(i,n,s),X(n,s),Promise.all(r._invokeAll(function(e){return e.afterRoot&&e.afterRoot(n)})).then(function(){for(let e of n.scenes)e.updateMatrixWorld();e(n)})}).catch(t)}_markDefs(){let e=this.json.nodes||[],t=this.json.skins||[],r=this.json.meshes||[];for(let r=0,s=t.length;r<s;r++){let s=t[r].joints;for(let t=0,r=s.length;t<r;t++)e[s[t]].isBone=!0}for(let t=0,s=e.length;t<s;t++){let s=e[t];void 0!==s.mesh&&(this._addNodeRef(this.meshCache,s.mesh),void 0!==s.skin&&(r[s.mesh].isSkinnedMesh=!0)),void 0!==s.camera&&this._addNodeRef(this.cameraCache,s.camera)}}_addNodeRef(e,t){void 0!==t&&(void 0===e.refs[t]&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,r){if(e.refs[t]<=1)return r;let s=r.clone(),i=(e,t)=>{let r=this.associations.get(e);for(let[s,n]of(null!=r&&this.associations.set(t,r),e.children.entries()))i(n,t.children[s])};return i(r,s),s.name+="_instance_"+e.uses[t]++,s}_invokeOne(e){let t=Object.values(this.plugins);t.push(this);for(let r=0;r<t.length;r++){let s=e(t[r]);if(s)return s}return null}_invokeAll(e){let t=Object.values(this.plugins);t.unshift(this);let r=[];for(let s=0;s<t.length;s++){let i=e(t[s]);i&&r.push(i)}return r}getDependency(e,t){let r=e+":"+t,s=this.cache.get(r);if(!s){switch(e){case"scene":s=this.loadScene(t);break;case"node":s=this._invokeOne(function(e){return e.loadNode&&e.loadNode(t)});break;case"mesh":s=this._invokeOne(function(e){return e.loadMesh&&e.loadMesh(t)});break;case"accessor":s=this.loadAccessor(t);break;case"bufferView":s=this._invokeOne(function(e){return e.loadBufferView&&e.loadBufferView(t)});break;case"buffer":s=this.loadBuffer(t);break;case"material":s=this._invokeOne(function(e){return e.loadMaterial&&e.loadMaterial(t)});break;case"texture":s=this._invokeOne(function(e){return e.loadTexture&&e.loadTexture(t)});break;case"skin":s=this.loadSkin(t);break;case"animation":s=this._invokeOne(function(e){return e.loadAnimation&&e.loadAnimation(t)});break;case"camera":s=this.loadCamera(t);break;default:if(!(s=this._invokeOne(function(r){return r!=this&&r.getDependency&&r.getDependency(e,t)})))throw Error("Unknown type: "+e)}this.cache.add(r,s)}return s}getDependencies(e){let t=this.cache.get(e);if(!t){let r=this;t=Promise.all((this.json[e+("mesh"===e?"es":"s")]||[]).map(function(t,s){return r.getDependency(e,s)})),this.cache.add(e,t)}return t}loadBuffer(e){let t=this.json.buffers[e],r=this.fileLoader;if(t.type&&"arraybuffer"!==t.type)throw Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(void 0===t.uri&&0===e)return Promise.resolve(this.extensions[o.KHR_BINARY_GLTF].body);let i=this.options;return new Promise(function(e,n){r.load(s.r6x.resolveURL(t.uri,i.path),e,void 0,function(){n(Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){let t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(e){let r=t.byteLength||0,s=t.byteOffset||0;return e.slice(s,s+r)})}loadAccessor(e){let t=this,r=this.json,i=this.json.accessors[e];if(void 0===i.bufferView&&void 0===i.sparse){let e=D[i.type],t=F[i.componentType],r=!0===i.normalized,n=new t(i.count*e);return Promise.resolve(new s.THS(n,e,r))}let n=[];return void 0!==i.bufferView?n.push(this.getDependency("bufferView",i.bufferView)):n.push(null),void 0!==i.sparse&&(n.push(this.getDependency("bufferView",i.sparse.indices.bufferView)),n.push(this.getDependency("bufferView",i.sparse.values.bufferView))),Promise.all(n).then(function(e){let n,a,o=e[0],u=D[i.type],l=F[i.componentType],c=l.BYTES_PER_ELEMENT,h=c*u,d=i.byteOffset||0,p=void 0!==i.bufferView?r.bufferViews[i.bufferView].byteStride:void 0,m=!0===i.normalized;if(p&&p!==h){let e=Math.floor(d/p),r="InterleavedBuffer:"+i.bufferView+":"+i.componentType+":"+e+":"+i.count,h=t.cache.get(r);h||(n=new l(o,e*p,i.count*p/c),h=new s.eB$(n,p/c),t.cache.add(r,h)),a=new s.eHs(h,u,d%p/c,m)}else n=null===o?new l(i.count*u):new l(o,d,i.count*u),a=new s.THS(n,u,m);if(void 0!==i.sparse){let t=D.SCALAR,r=F[i.sparse.indices.componentType],n=i.sparse.indices.byteOffset||0,c=i.sparse.values.byteOffset||0,h=new r(e[1],n,i.sparse.count*t),d=new l(e[2],c,i.sparse.count*u);null!==o&&(a=new s.THS(a.array.slice(),a.itemSize,a.normalized)),a.normalized=!1;for(let e=0,t=h.length;e<t;e++){let t=h[e];if(a.setX(t,d[e*u]),u>=2&&a.setY(t,d[e*u+1]),u>=3&&a.setZ(t,d[e*u+2]),u>=4&&a.setW(t,d[e*u+3]),u>=5)throw Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}a.normalized=m}return a})}loadTexture(e){let t=this.json,r=this.options,s=t.textures[e].source,i=t.images[s],n=this.textureLoader;if(i.uri){let e=r.manager.getHandler(i.uri);null!==e&&(n=e)}return this.loadTextureImage(e,s,n)}loadTextureImage(e,t,r){let i=this,n=this.json,a=n.textures[e],o=n.images[t],u=(o.uri||o.bufferView)+":"+a.sampler;if(this.textureCache[u])return this.textureCache[u];let l=this.loadImageSource(t,r).then(function(t){t.flipY=!1,t.name=a.name||o.name||"",""===t.name&&"string"==typeof o.uri&&!1===o.uri.startsWith("data:image/")&&(t.name=o.uri);let r=(n.samplers||{})[a.sampler]||{};return t.magFilter=B[r.magFilter]||s.k6q,t.minFilter=B[r.minFilter]||s.$_I,t.wrapS=H[r.wrapS]||s.GJx,t.wrapT=H[r.wrapT]||s.GJx,t.generateMipmaps=!t.isCompressedTexture&&t.minFilter!==s.hxR&&t.minFilter!==s.k6q,i.associations.set(t,{textures:e}),t}).catch(function(){return null});return this.textureCache[u]=l,l}loadImageSource(e,t){let r=this.json,i=this.options;if(void 0!==this.sourceCache[e])return this.sourceCache[e].then(e=>e.clone());let n=r.images[e],a=self.URL||self.webkitURL,o=n.uri||"",u=!1;if(void 0!==n.bufferView)o=this.getDependency("bufferView",n.bufferView).then(function(e){u=!0;let t=new Blob([e],{type:n.mimeType});return o=a.createObjectURL(t)});else if(void 0===n.uri)throw Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");let l=Promise.resolve(o).then(function(e){return new Promise(function(r,n){let a=r;!0===t.isImageBitmapLoader&&(a=function(e){let t=new s.gPd(e);t.needsUpdate=!0,r(t)}),t.load(s.r6x.resolveURL(e,i.path),a,void 0,n)})}).then(function(e){var t;return!0===u&&a.revokeObjectURL(o),X(e,n),e.userData.mimeType=n.mimeType||((t=n.uri).search(/\.jpe?g($|\?)/i)>0||0===t.search(/^data\:image\/jpeg/)?"image/jpeg":t.search(/\.webp($|\?)/i)>0||0===t.search(/^data\:image\/webp/)?"image/webp":t.search(/\.ktx2($|\?)/i)>0||0===t.search(/^data\:image\/ktx2/)?"image/ktx2":"image/png"),e}).catch(function(e){throw console.error("THREE.GLTFLoader: Couldn't load texture",o),e});return this.sourceCache[e]=l,l}assignTexture(e,t,r,s){let i=this;return this.getDependency("texture",r.index).then(function(n){if(!n)return null;if(void 0!==r.texCoord&&r.texCoord>0&&((n=n.clone()).channel=r.texCoord),i.extensions[o.KHR_TEXTURE_TRANSFORM]){let e=void 0!==r.extensions?r.extensions[o.KHR_TEXTURE_TRANSFORM]:void 0;if(e){let t=i.associations.get(n);n=i.extensions[o.KHR_TEXTURE_TRANSFORM].extendTexture(n,e),i.associations.set(n,t)}}return void 0!==s&&(n.colorSpace=s),e[t]=n,n})}assignFinalMaterial(e){let t=e.geometry,r=e.material,i=void 0===t.attributes.tangent,n=void 0!==t.attributes.color,a=void 0===t.attributes.normal;if(e.isPoints){let e="PointsMaterial:"+r.uuid,t=this.cache.get(e);t||(t=new s.BH$,s.imn.prototype.copy.call(t,r),t.color.copy(r.color),t.map=r.map,t.sizeAttenuation=!1,this.cache.add(e,t)),r=t}else if(e.isLine){let e="LineBasicMaterial:"+r.uuid,t=this.cache.get(e);t||(t=new s.mrM,s.imn.prototype.copy.call(t,r),t.color.copy(r.color),t.map=r.map,this.cache.add(e,t)),r=t}if(i||n||a){let e="ClonedMaterial:"+r.uuid+":";i&&(e+="derivative-tangents:"),n&&(e+="vertex-colors:"),a&&(e+="flat-shading:");let t=this.cache.get(e);t||(t=r.clone(),n&&(t.vertexColors=!0),a&&(t.flatShading=!0),i&&(t.normalScale&&(t.normalScale.y*=-1),t.clearcoatNormalScale&&(t.clearcoatNormalScale.y*=-1)),this.cache.add(e,t),this.associations.set(t,this.associations.get(r))),r=t}e.material=r}getMaterialType(){return s._4j}loadMaterial(e){let t,r=this,i=this.json,n=this.extensions,a=i.materials[e],u={},l=a.extensions||{},c=[];if(l[o.KHR_MATERIALS_UNLIT]){let e=n[o.KHR_MATERIALS_UNLIT];t=e.getMaterialType(),c.push(e.extendParams(u,a,r))}else{let i=a.pbrMetallicRoughness||{};if(u.color=new s.Q1f(1,1,1),u.opacity=1,Array.isArray(i.baseColorFactor)){let e=i.baseColorFactor;u.color.setRGB(e[0],e[1],e[2],s.Zr2),u.opacity=e[3]}void 0!==i.baseColorTexture&&c.push(r.assignTexture(u,"map",i.baseColorTexture,s.er$)),u.metalness=void 0!==i.metallicFactor?i.metallicFactor:1,u.roughness=void 0!==i.roughnessFactor?i.roughnessFactor:1,void 0!==i.metallicRoughnessTexture&&(c.push(r.assignTexture(u,"metalnessMap",i.metallicRoughnessTexture)),c.push(r.assignTexture(u,"roughnessMap",i.metallicRoughnessTexture))),t=this._invokeOne(function(t){return t.getMaterialType&&t.getMaterialType(e)}),c.push(Promise.all(this._invokeAll(function(t){return t.extendMaterialParams&&t.extendMaterialParams(e,u)})))}!0===a.doubleSided&&(u.side=s.$EB);let h=a.alphaMode||j.OPAQUE;if(h===j.BLEND?(u.transparent=!0,u.depthWrite=!1):(u.transparent=!1,h===j.MASK&&(u.alphaTest=void 0!==a.alphaCutoff?a.alphaCutoff:.5)),void 0!==a.normalTexture&&t!==s.V9B&&(c.push(r.assignTexture(u,"normalMap",a.normalTexture)),u.normalScale=new s.I9Y(1,1),void 0!==a.normalTexture.scale)){let e=a.normalTexture.scale;u.normalScale.set(e,e)}if(void 0!==a.occlusionTexture&&t!==s.V9B&&(c.push(r.assignTexture(u,"aoMap",a.occlusionTexture)),void 0!==a.occlusionTexture.strength&&(u.aoMapIntensity=a.occlusionTexture.strength)),void 0!==a.emissiveFactor&&t!==s.V9B){let e=a.emissiveFactor;u.emissive=new s.Q1f().setRGB(e[0],e[1],e[2],s.Zr2)}return void 0!==a.emissiveTexture&&t!==s.V9B&&c.push(r.assignTexture(u,"emissiveMap",a.emissiveTexture,s.er$)),Promise.all(c).then(function(){let s=new t(u);return a.name&&(s.name=a.name),X(s,a),r.associations.set(s,{materials:e}),a.extensions&&z(n,s,a),s})}createUniqueName(e){let t=s.Nwf.sanitizeNodeName(e||"");return t in this.nodeNamesUsed?t+"_"+ ++this.nodeNamesUsed[t]:(this.nodeNamesUsed[t]=0,t)}loadGeometries(e){let t=this,r=this.extensions,i=this.primitiveCache,n=[];for(let a=0,u=e.length;a<u;a++){let u=e[a],l=function(e){let t,r=e.extensions&&e.extensions[o.KHR_DRACO_MESH_COMPRESSION];if(t=r?"draco:"+r.bufferView+":"+r.indices+":"+K(r.attributes):e.indices+":"+K(e.attributes)+":"+e.mode,void 0!==e.targets)for(let r=0,s=e.targets.length;r<s;r++)t+=":"+K(e.targets[r]);return t}(u),c=i[l];if(c)n.push(c.promise);else{let e;e=u.extensions&&u.extensions[o.KHR_DRACO_MESH_COMPRESSION]?function(e){return r[o.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(e,t).then(function(r){return Z(r,e,t)})}(u):Z(new s.LoY,u,t),i[l]={primitive:u,promise:e},n.push(e)}}return Promise.all(n)}loadMesh(e){let t=this,r=this.json,n=this.extensions,a=r.meshes[e],o=a.primitives,u=[];for(let e=0,t=o.length;e<t;e++){var l;let t=void 0===o[e].material?(void 0===(l=this.cache).DefaultMaterial&&(l.DefaultMaterial=new s._4j({color:0xffffff,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:s.hB5})),l.DefaultMaterial):this.getDependency("material",o[e].material);u.push(t)}return u.push(t.loadGeometries(o)),Promise.all(u).then(function(r){let u=r.slice(0,r.length-1),l=r[r.length-1],c=[];for(let r=0,h=l.length;r<h;r++){let h,d=l[r],p=o[r],m=u[r];if(p.mode===k.TRIANGLES||p.mode===k.TRIANGLE_STRIP||p.mode===k.TRIANGLE_FAN||void 0===p.mode)!0===(h=!0===a.isSkinnedMesh?new s.I46(d,m):new s.eaF(d,m)).isSkinnedMesh&&h.normalizeSkinWeights(),p.mode===k.TRIANGLE_STRIP?h.geometry=i(h.geometry,s.O49):p.mode===k.TRIANGLE_FAN&&(h.geometry=i(h.geometry,s.rYR));else if(p.mode===k.LINES)h=new s.DXC(d,m);else if(p.mode===k.LINE_STRIP)h=new s.N1A(d,m);else if(p.mode===k.LINE_LOOP)h=new s.FCc(d,m);else if(p.mode===k.POINTS)h=new s.ONl(d,m);else throw Error("THREE.GLTFLoader: Primitive mode unsupported: "+p.mode);Object.keys(h.geometry.morphAttributes).length>0&&function(e,t){if(e.updateMorphTargets(),void 0!==t.weights)for(let r=0,s=t.weights.length;r<s;r++)e.morphTargetInfluences[r]=t.weights[r];if(t.extras&&Array.isArray(t.extras.targetNames)){let r=t.extras.targetNames;if(e.morphTargetInfluences.length===r.length){e.morphTargetDictionary={};for(let t=0,s=r.length;t<s;t++)e.morphTargetDictionary[r[t]]=t}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}(h,a),h.name=t.createUniqueName(a.name||"mesh_"+e),X(h,a),p.extensions&&z(n,h,p),t.assignFinalMaterial(h),c.push(h)}for(let r=0,s=c.length;r<s;r++)t.associations.set(c[r],{meshes:e,primitives:r});if(1===c.length)return a.extensions&&z(n,c[0],a),c[0];let h=new s.YJl;a.extensions&&z(n,h,a),t.associations.set(h,{meshes:e});for(let e=0,t=c.length;e<t;e++)h.add(c[e]);return h})}loadCamera(e){let t,r=this.json.cameras[e],i=r[r.type];return i?("perspective"===r.type?t=new s.ubm(s.cj9.radToDeg(i.yfov),i.aspectRatio||1,i.znear||1,i.zfar||2e6):"orthographic"===r.type&&(t=new s.qUd(-i.xmag,i.xmag,i.ymag,-i.ymag,i.znear,i.zfar)),r.name&&(t.name=this.createUniqueName(r.name)),X(t,r),Promise.resolve(t)):void console.warn("THREE.GLTFLoader: Missing camera parameters.")}loadSkin(e){let t=this.json.skins[e],r=[];for(let e=0,s=t.joints.length;e<s;e++)r.push(this._loadNodeShallow(t.joints[e]));return void 0!==t.inverseBindMatrices?r.push(this.getDependency("accessor",t.inverseBindMatrices)):r.push(null),Promise.all(r).then(function(e){let r=e.pop(),i=[],n=[];for(let a=0,o=e.length;a<o;a++){let o=e[a];if(o){i.push(o);let e=new s.kn4;null!==r&&e.fromArray(r.array,16*a),n.push(e)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[a])}return new s.EAD(i,n)})}loadAnimation(e){let t=this.json,r=this,i=t.animations[e],n=i.name?i.name:"animation_"+e,a=[],o=[],u=[],l=[],c=[];for(let e=0,t=i.channels.length;e<t;e++){let t=i.channels[e],r=i.samplers[t.sampler],s=t.target,n=s.node,h=void 0!==i.parameters?i.parameters[r.input]:r.input,d=void 0!==i.parameters?i.parameters[r.output]:r.output;void 0!==s.node&&(a.push(this.getDependency("node",n)),o.push(this.getDependency("accessor",h)),u.push(this.getDependency("accessor",d)),l.push(r),c.push(s))}return Promise.all([Promise.all(a),Promise.all(o),Promise.all(u),Promise.all(l),Promise.all(c)]).then(function(e){let t=e[0],a=e[1],o=e[2],u=e[3],l=e[4],c=[];for(let e=0,s=t.length;e<s;e++){let s=t[e],i=a[e],n=o[e],h=u[e],d=l[e];if(void 0===s)continue;s.updateMatrix&&s.updateMatrix();let p=r._createAnimationTracks(s,i,n,h,d);if(p)for(let e=0;e<p.length;e++)c.push(p[e])}let h=new s.tz3(n,void 0,c);return X(h,i),h})}createNodeMesh(e){let t=this.json,r=this,s=t.nodes[e];return void 0===s.mesh?null:r.getDependency("mesh",s.mesh).then(function(e){let t=r._getNodeRef(r.meshCache,s.mesh,e);return void 0!==s.weights&&t.traverse(function(e){if(e.isMesh)for(let t=0,r=s.weights.length;t<r;t++)e.morphTargetInfluences[t]=s.weights[t]}),t})}loadNode(e){let t=this.json.nodes[e],r=this._loadNodeShallow(e),s=[],i=t.children||[];for(let e=0,t=i.length;e<t;e++)s.push(this.getDependency("node",i[e]));let n=void 0===t.skin?Promise.resolve(null):this.getDependency("skin",t.skin);return Promise.all([r,Promise.all(s),n]).then(function(e){let t=e[0],r=e[1],s=e[2];null!==s&&t.traverse(function(e){e.isSkinnedMesh&&e.bind(s,Y)});for(let e=0,s=r.length;e<s;e++)t.add(r[e]);return t})}_loadNodeShallow(e){let t=this.json,r=this.extensions,i=this;if(void 0!==this.nodeCache[e])return this.nodeCache[e];let n=t.nodes[e],a=n.name?i.createUniqueName(n.name):"",o=[],u=i._invokeOne(function(t){return t.createNodeMesh&&t.createNodeMesh(e)});return u&&o.push(u),void 0!==n.camera&&o.push(i.getDependency("camera",n.camera).then(function(e){return i._getNodeRef(i.cameraCache,n.camera,e)})),i._invokeAll(function(t){return t.createNodeAttachment&&t.createNodeAttachment(e)}).forEach(function(e){o.push(e)}),this.nodeCache[e]=Promise.all(o).then(function(t){let o;if((o=!0===n.isBone?new s.$Kf:t.length>1?new s.YJl:1===t.length?t[0]:new s.B69)!==t[0])for(let e=0,r=t.length;e<r;e++)o.add(t[e]);if(n.name&&(o.userData.name=n.name,o.name=a),X(o,n),n.extensions&&z(r,o,n),void 0!==n.matrix){let e=new s.kn4;e.fromArray(n.matrix),o.applyMatrix4(e)}else void 0!==n.translation&&o.position.fromArray(n.translation),void 0!==n.rotation&&o.quaternion.fromArray(n.rotation),void 0!==n.scale&&o.scale.fromArray(n.scale);if(i.associations.has(o)){if(void 0!==n.mesh&&i.meshCache.refs[n.mesh]>1){let e=i.associations.get(o);i.associations.set(o,{...e})}}else i.associations.set(o,{});return i.associations.get(o).nodes=e,o}),this.nodeCache[e]}loadScene(e){let t=this.extensions,r=this.json.scenes[e],i=this,n=new s.YJl;r.name&&(n.name=i.createUniqueName(r.name)),X(n,r),r.extensions&&z(t,n,r);let a=r.nodes||[],o=[];for(let e=0,t=a.length;e<t;e++)o.push(i.getDependency("node",a[e]));return Promise.all(o).then(function(e){for(let t=0,r=e.length;t<r;t++)n.add(e[t]);return i.associations=(e=>{let t=new Map;for(let[e,r]of i.associations)(e instanceof s.imn||e instanceof s.gPd)&&t.set(e,r);return e.traverse(e=>{let r=i.associations.get(e);null!=r&&t.set(e,r)}),t})(n),n})}_createAnimationTracks(e,t,r,i,n){let a,o=[],u=e.name?e.name:e.uuid,l=[];switch(V[n.path]===V.weights?e.traverse(function(e){e.morphTargetInfluences&&l.push(e.name?e.name:e.uuid)}):l.push(u),V[n.path]){case V.weights:a=s.Hit;break;case V.rotation:a=s.MBL;break;case V.translation:case V.scale:a=s.RiT;break;default:a=1===r.itemSize?s.Hit:s.RiT}let c=void 0!==i.interpolation?G[i.interpolation]:s.PJ3,h=this._getArrayFromAccessor(r);for(let e=0,r=l.length;e<r;e++){let r=new a(l[e]+"."+V[n.path],t.array,h,c);"CUBICSPLINE"===i.interpolation&&this._createCubicSplineTrackInterpolant(r),o.push(r)}return o}_getArrayFromAccessor(e){let t=e.array;if(e.normalized){let e=q(t.constructor),r=new Float32Array(t.length);for(let s=0,i=t.length;s<i;s++)r[s]=t[s]*e;t=r}return t}_createCubicSplineTrackInterpolant(e){e.createInterpolant=function(e){return new(this instanceof s.MBL?N:L)(this.times,this.values,this.getValueSize()/3,e)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function Z(e,t,r){let i=t.attributes,n=[];for(let t in i){let s=U[t]||t.toLowerCase();s in e.attributes||n.push(function(t,s){return r.getDependency("accessor",t).then(function(t){e.setAttribute(s,t)})}(i[t],s))}if(void 0!==t.indices&&!e.index){let s=r.getDependency("accessor",t.indices).then(function(t){e.setIndex(t)});n.push(s)}return s.ppV.workingColorSpace!==s.Zr2&&"COLOR_0"in i&&console.warn(`THREE.GLTFLoader: Converting vertex colors from "srgb-linear" to "${s.ppV.workingColorSpace}" not supported.`),X(e,t),!function(e,t,r){let i=t.attributes,n=new s.NRn;if(void 0===i.POSITION)return;{let e=r.json.accessors[i.POSITION],t=e.min,a=e.max;if(void 0===t||void 0===a)return console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");if(n.set(new s.Pq0(t[0],t[1],t[2]),new s.Pq0(a[0],a[1],a[2])),e.normalized){let t=q(F[e.componentType]);n.min.multiplyScalar(t),n.max.multiplyScalar(t)}}let a=t.targets;if(void 0!==a){let e=new s.Pq0,t=new s.Pq0;for(let s=0,i=a.length;s<i;s++){let i=a[s];if(void 0!==i.POSITION){let s=r.json.accessors[i.POSITION],n=s.min,a=s.max;if(void 0!==n&&void 0!==a){if(t.setX(Math.max(Math.abs(n[0]),Math.abs(a[0]))),t.setY(Math.max(Math.abs(n[1]),Math.abs(a[1]))),t.setZ(Math.max(Math.abs(n[2]),Math.abs(a[2]))),s.normalized){let e=q(F[s.componentType]);t.multiplyScalar(e)}e.max(t)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}n.expandByVector(e)}e.boundingBox=n;let o=new s.iyt;n.getCenter(o.center),o.radius=n.min.distanceTo(n.max)/2,e.boundingSphere=o}(e,t,r),Promise.all(n).then(function(){return void 0!==t.targets?function(e,t,r){let s=!1,i=!1,n=!1;for(let e=0,r=t.length;e<r;e++){let r=t[e];if(void 0!==r.POSITION&&(s=!0),void 0!==r.NORMAL&&(i=!0),void 0!==r.COLOR_0&&(n=!0),s&&i&&n)break}if(!s&&!i&&!n)return Promise.resolve(e);let a=[],o=[],u=[];for(let l=0,c=t.length;l<c;l++){let c=t[l];if(s){let t=void 0!==c.POSITION?r.getDependency("accessor",c.POSITION):e.attributes.position;a.push(t)}if(i){let t=void 0!==c.NORMAL?r.getDependency("accessor",c.NORMAL):e.attributes.normal;o.push(t)}if(n){let t=void 0!==c.COLOR_0?r.getDependency("accessor",c.COLOR_0):e.attributes.color;u.push(t)}}return Promise.all([Promise.all(a),Promise.all(o),Promise.all(u)]).then(function(t){let r=t[0],a=t[1],o=t[2];return s&&(e.morphAttributes.position=r),i&&(e.morphAttributes.normal=a),n&&(e.morphAttributes.color=o),e.morphTargetsRelative=!0,e})}(e,t.targets,r):e})}},9742:e=>{e.exports={style:{fontFamily:"'Geist', 'Geist Fallback'",fontStyle:"normal"},className:"__className_188709",variable:"__variable_188709"}}}]);